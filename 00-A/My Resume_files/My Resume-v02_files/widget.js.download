/*! For license information please see widget.js.LICENSE.txt */
(()=>{var t={680:(t,e,n)=>{"use strict";var r=n(672),o=n(429),i=o(r("String.prototype.indexOf"));t.exports=function(t,e){var n=r(t,!!e);return"function"==typeof n&&i(t,".prototype.")>-1?o(n):n}},429:(t,e,n)=>{"use strict";var r=n(90),o=n(672),i=o("%Function.prototype.apply%"),a=o("%Function.prototype.call%"),s=o("%Reflect.apply%",!0)||r.call(a,i),l=o("%Object.getOwnPropertyDescriptor%",!0),c=o("%Object.defineProperty%",!0),u=o("%Math.max%");if(c)try{c({},"a",{value:1})}catch(t){c=null}t.exports=function(t){var e=s(r,a,arguments);l&&c&&(l(e,"length").configurable&&c(e,"length",{value:1+u(0,t.length-(arguments.length-1))}));return e};var p=function(){return s(r,i,arguments)};c?c(t.exports,"apply",{value:p}):t.exports.apply=p},672:(t,e,n)=>{"use strict";var r,o=SyntaxError,i=Function,a=TypeError,s=function(t){try{return i('"use strict"; return ('+t+").constructor;")()}catch(t){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(t){l=null}var c=function(){throw new a},u=l?function(){try{return c}catch(t){try{return l(arguments,"callee").get}catch(t){return c}}}():c,p=n(25)(),d=Object.getPrototypeOf||function(t){return t.__proto__},h={},f="undefined"==typeof Uint8Array?r:d(Uint8Array),y={"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":p?d([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":h,"%AsyncGenerator%":h,"%AsyncGeneratorFunction%":h,"%AsyncIteratorPrototype%":h,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":h,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":p?d(d([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&p?d((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&p?d((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":p?d(""[Symbol.iterator]()):r,"%Symbol%":p?Symbol:r,"%SyntaxError%":o,"%ThrowTypeError%":u,"%TypedArray%":f,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet},m=function t(e){var n;if("%AsyncFunction%"===e)n=s("async function () {}");else if("%GeneratorFunction%"===e)n=s("function* () {}");else if("%AsyncGeneratorFunction%"===e)n=s("async function* () {}");else if("%AsyncGenerator%"===e){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===e){var o=t("%AsyncGenerator%");o&&(n=d(o.prototype))}return y[e]=n,n},g={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=n(90),w=n(198),b=v.call(Function.call,Array.prototype.concat),_=v.call(Function.apply,Array.prototype.splice),A=v.call(Function.call,String.prototype.replace),E=v.call(Function.call,String.prototype.slice),P=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,S=/\\(\\)?/g,x=function(t,e){var n,r=t;if(w(g,r)&&(r="%"+(n=g[r])[0]+"%"),w(y,r)){var i=y[r];if(i===h&&(i=m(r)),void 0===i&&!e)throw new a("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new o("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new a('"allowMissing" argument must be a boolean');var n=function(t){var e=E(t,0,1),n=E(t,-1);if("%"===e&&"%"!==n)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==e)throw new o("invalid intrinsic syntax, expected opening `%`");var r=[];return A(t,P,(function(t,e,n,o){r[r.length]=n?A(o,S,"$1"):e||t})),r}(t),r=n.length>0?n[0]:"",i=x("%"+r+"%",e),s=i.name,c=i.value,u=!1,p=i.alias;p&&(r=p[0],_(n,b([0,1],p)));for(var d=1,h=!0;d<n.length;d+=1){var f=n[d],m=E(f,0,1),g=E(f,-1);if(('"'===m||"'"===m||"`"===m||'"'===g||"'"===g||"`"===g)&&m!==g)throw new o("property names with quotes must have matching quotes");if("constructor"!==f&&h||(u=!0),w(y,s="%"+(r+="."+f)+"%"))c=y[s];else if(null!=c){if(!(f in c)){if(!e)throw new a("base intrinsic for "+t+" exists, but the property is not available.");return}if(l&&d+1>=n.length){var v=l(c,f);c=(h=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:c[f]}else h=w(c,f),c=c[f];h&&!u&&(y[s]=c)}}return c}},25:(t,e,n)=>{"use strict";var r="undefined"!=typeof Symbol&&Symbol,o=n(708);t.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&o())))}},708:t=>{"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),n=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var r=Object.getOwnPropertySymbols(t);if(1!==r.length||r[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},714:t=>{"use strict";var e=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===n}(t)}(t)};var n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function r(t,e){return!1!==e.clone&&e.isMergeableObject(t)?l((n=t,Array.isArray(n)?[]:{}),t,e):t;var n}function o(t,e,n){return t.concat(e).map((function(t){return r(t,n)}))}function i(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(e){return Object.propertyIsEnumerable.call(t,e)})):[]}(t))}function a(t,e){try{return e in t}catch(t){return!1}}function s(t,e,n){var o={};return n.isMergeableObject(t)&&i(t).forEach((function(e){o[e]=r(t[e],n)})),i(e).forEach((function(i){(function(t,e){return a(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,i)||(a(t,i)&&n.isMergeableObject(e[i])?o[i]=function(t,e){if(!e.customMerge)return l;var n=e.customMerge(t);return"function"==typeof n?n:l}(i,n)(t[i],e[i],n):o[i]=r(e[i],n))})),o}function l(t,n,i){(i=i||{}).arrayMerge=i.arrayMerge||o,i.isMergeableObject=i.isMergeableObject||e,i.cloneUnlessOtherwiseSpecified=r;var a=Array.isArray(n);return a===Array.isArray(t)?a?i.arrayMerge(t,n,i):s(t,n,i):r(n,i)}l.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,n){return l(t,n,e)}),{})};var c=l;t.exports=c},87:()=>{"object"!=typeof globalThis&&(Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__)},598:t=>{"use strict";t.exports=function t(e,n){if(e===n)return!0;if(e&&n&&"object"==typeof e&&"object"==typeof n){if(e.constructor!==n.constructor)return!1;var r,o,i;if(Array.isArray(e)){if((r=e.length)!=n.length)return!1;for(o=r;0!=o--;)if(!t(e[o],n[o]))return!1;return!0}if(e instanceof Map&&n instanceof Map){if(e.size!==n.size)return!1;for(o of e.entries())if(!n.has(o[0]))return!1;for(o of e.entries())if(!t(o[1],n.get(o[0])))return!1;return!0}if(e instanceof Set&&n instanceof Set){if(e.size!==n.size)return!1;for(o of e.entries())if(!n.has(o[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(n)){if((r=e.length)!=n.length)return!1;for(o=r;0!=o--;)if(e[o]!==n[o])return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if((r=(i=Object.keys(e)).length)!==Object.keys(n).length)return!1;for(o=r;0!=o--;)if(!Object.prototype.hasOwnProperty.call(n,i[o]))return!1;for(o=r;0!=o--;){var a=i[o];if(!t(e[a],n[a]))return!1}return!0}return e!=e&&n!=n}},795:t=>{"use strict";var e=Array.prototype.slice,n=Object.prototype.toString;t.exports=function(t){var r=this;if("function"!=typeof r||"[object Function]"!==n.call(r))throw new TypeError("Function.prototype.bind called on incompatible "+r);for(var o,i=e.call(arguments,1),a=Math.max(0,r.length-i.length),s=[],l=0;l<a;l++)s.push("$"+l);if(o=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof o){var n=r.apply(this,i.concat(e.call(arguments)));return Object(n)===n?n:this}return r.apply(t,i.concat(e.call(arguments)))})),r.prototype){var c=function(){};c.prototype=r.prototype,o.prototype=new c,c.prototype=null}return o}},90:(t,e,n)=>{"use strict";var r=n(795);t.exports=Function.prototype.bind||r},286:(t,e,n)=>{"use strict";var r,o=SyntaxError,i=Function,a=TypeError,s=function(t){try{return i('"use strict"; return ('+t+").constructor;")()}catch(t){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(t){l=null}var c=function(){throw new a},u=l?function(){try{return c}catch(t){try{return l(arguments,"callee").get}catch(t){return c}}}():c,p=n(636)(),d=n(486)(),h=Object.getPrototypeOf||(d?function(t){return t.__proto__}:null),f={},y="undefined"!=typeof Uint8Array&&h?h(Uint8Array):r,m={"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":p&&h?h([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":f,"%AsyncGenerator%":f,"%AsyncGeneratorFunction%":f,"%AsyncIteratorPrototype%":f,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":f,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":p&&h?h(h([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&p&&h?h((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&p&&h?h((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":p&&h?h(""[Symbol.iterator]()):r,"%Symbol%":p?Symbol:r,"%SyntaxError%":o,"%ThrowTypeError%":u,"%TypedArray%":y,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet};if(h)try{null.error}catch(t){var g=h(h(t));m["%Error.prototype%"]=g}var v=function t(e){var n;if("%AsyncFunction%"===e)n=s("async function () {}");else if("%GeneratorFunction%"===e)n=s("function* () {}");else if("%AsyncGeneratorFunction%"===e)n=s("async function* () {}");else if("%AsyncGenerator%"===e){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===e){var o=t("%AsyncGenerator%");o&&h&&(n=h(o.prototype))}return m[e]=n,n},w={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},b=n(90),_=n(198),A=b.call(Function.call,Array.prototype.concat),E=b.call(Function.apply,Array.prototype.splice),P=b.call(Function.call,String.prototype.replace),S=b.call(Function.call,String.prototype.slice),x=b.call(Function.call,RegExp.prototype.exec),O=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,C=/\\(\\)?/g,T=function(t,e){var n,r=t;if(_(w,r)&&(r="%"+(n=w[r])[0]+"%"),_(m,r)){var i=m[r];if(i===f&&(i=v(r)),void 0===i&&!e)throw new a("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new o("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new a('"allowMissing" argument must be a boolean');if(null===x(/^%?[^%]*%?$/,t))throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(t){var e=S(t,0,1),n=S(t,-1);if("%"===e&&"%"!==n)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==e)throw new o("invalid intrinsic syntax, expected opening `%`");var r=[];return P(t,O,(function(t,e,n,o){r[r.length]=n?P(o,C,"$1"):e||t})),r}(t),r=n.length>0?n[0]:"",i=T("%"+r+"%",e),s=i.name,c=i.value,u=!1,p=i.alias;p&&(r=p[0],E(n,A([0,1],p)));for(var d=1,h=!0;d<n.length;d+=1){var f=n[d],y=S(f,0,1),g=S(f,-1);if(('"'===y||"'"===y||"`"===y||'"'===g||"'"===g||"`"===g)&&y!==g)throw new o("property names with quotes must have matching quotes");if("constructor"!==f&&h||(u=!0),_(m,s="%"+(r+="."+f)+"%"))c=m[s];else if(null!=c){if(!(f in c)){if(!e)throw new a("base intrinsic for "+t+" exists, but the property is not available.");return}if(l&&d+1>=n.length){var v=l(c,f);c=(h=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:c[f]}else h=_(c,f),c=c[f];h&&!u&&(m[s]=c)}}return c}},181:(t,e,n)=>{"use strict";var r=n(177)("%Object.defineProperty%",!0),o=function(){if(r)try{return r({},"a",{value:1}),!0}catch(t){return!1}return!1};o.hasArrayLengthDefineBug=function(){if(!o())return null;try{return 1!==r([],"length",{value:1}).length}catch(t){return!0}},t.exports=o},177:(t,e,n)=>{"use strict";var r,o=SyntaxError,i=Function,a=TypeError,s=function(t){try{return i('"use strict"; return ('+t+").constructor;")()}catch(t){}},l=Object.getOwnPropertyDescriptor;if(l)try{l({},"")}catch(t){l=null}var c=function(){throw new a},u=l?function(){try{return c}catch(t){try{return l(arguments,"callee").get}catch(t){return c}}}():c,p=n(75)(),d=Object.getPrototypeOf||function(t){return t.__proto__},h={},f="undefined"==typeof Uint8Array?r:d(Uint8Array),y={"%AggregateError%":"undefined"==typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":p?d([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":h,"%AsyncGenerator%":h,"%AsyncGeneratorFunction%":h,"%AsyncIteratorPrototype%":h,"%Atomics%":"undefined"==typeof Atomics?r:Atomics,"%BigInt%":"undefined"==typeof BigInt?r:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":i,"%GeneratorFunction%":h,"%Int8Array%":"undefined"==typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":p?d(d([][Symbol.iterator]())):r,"%JSON%":"object"==typeof JSON?JSON:r,"%Map%":"undefined"==typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&p?d((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?r:Promise,"%Proxy%":"undefined"==typeof Proxy?r:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&p?d((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":p?d(""[Symbol.iterator]()):r,"%Symbol%":p?Symbol:r,"%SyntaxError%":o,"%ThrowTypeError%":u,"%TypedArray%":f,"%TypeError%":a,"%Uint8Array%":"undefined"==typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?r:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?r:WeakSet},m=function t(e){var n;if("%AsyncFunction%"===e)n=s("async function () {}");else if("%GeneratorFunction%"===e)n=s("function* () {}");else if("%AsyncGeneratorFunction%"===e)n=s("async function* () {}");else if("%AsyncGenerator%"===e){var r=t("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===e){var o=t("%AsyncGenerator%");o&&(n=d(o.prototype))}return y[e]=n,n},g={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=n(90),w=n(198),b=v.call(Function.call,Array.prototype.concat),_=v.call(Function.apply,Array.prototype.splice),A=v.call(Function.call,String.prototype.replace),E=v.call(Function.call,String.prototype.slice),P=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,S=/\\(\\)?/g,x=function(t,e){var n,r=t;if(w(g,r)&&(r="%"+(n=g[r])[0]+"%"),w(y,r)){var i=y[r];if(i===h&&(i=m(r)),void 0===i&&!e)throw new a("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new o("intrinsic "+t+" does not exist!")};t.exports=function(t,e){if("string"!=typeof t||0===t.length)throw new a("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new a('"allowMissing" argument must be a boolean');var n=function(t){var e=E(t,0,1),n=E(t,-1);if("%"===e&&"%"!==n)throw new o("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==e)throw new o("invalid intrinsic syntax, expected opening `%`");var r=[];return A(t,P,(function(t,e,n,o){r[r.length]=n?A(o,S,"$1"):e||t})),r}(t),r=n.length>0?n[0]:"",i=x("%"+r+"%",e),s=i.name,c=i.value,u=!1,p=i.alias;p&&(r=p[0],_(n,b([0,1],p)));for(var d=1,h=!0;d<n.length;d+=1){var f=n[d],m=E(f,0,1),g=E(f,-1);if(('"'===m||"'"===m||"`"===m||'"'===g||"'"===g||"`"===g)&&m!==g)throw new o("property names with quotes must have matching quotes");if("constructor"!==f&&h||(u=!0),w(y,s="%"+(r+="."+f)+"%"))c=y[s];else if(null!=c){if(!(f in c)){if(!e)throw new a("base intrinsic for "+t+" exists, but the property is not available.");return}if(l&&d+1>=n.length){var v=l(c,f);c=(h=!!v)&&"get"in v&&!("originalValue"in v.get)?v.get:c[f]}else h=w(c,f),c=c[f];h&&!u&&(y[s]=c)}}return c}},75:(t,e,n)=>{"use strict";var r="undefined"!=typeof Symbol&&Symbol,o=n(681);t.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&o())))}},681:t=>{"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),n=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var r=Object.getOwnPropertySymbols(t);if(1!==r.length||r[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},486:t=>{"use strict";var e={foo:{}},n=Object;t.exports=function(){return{__proto__:e}.foo===e.foo&&!({__proto__:null}instanceof n)}},636:(t,e,n)=>{"use strict";var r="undefined"!=typeof Symbol&&Symbol,o=n(679);t.exports=function(){return"function"==typeof r&&("function"==typeof Symbol&&("symbol"==typeof r("foo")&&("symbol"==typeof Symbol("bar")&&o())))}},679:t=>{"use strict";t.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),n=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var r=Object.getOwnPropertySymbols(t);if(1!==r.length||r[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(t,e);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},198:(t,e,n)=>{"use strict";var r=n(90);t.exports=r.call(Function.call,Object.prototype.hasOwnProperty)},360:()=>{!function(){"use strict";if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var t=function(t){for(var e=window.document,n=o(e);n;)n=o(e=n.ownerDocument);return e}(),e=[],n=null,r=null;a.prototype.THROTTLE_TIMEOUT=100,a.prototype.POLL_INTERVAL=null,a.prototype.USE_MUTATION_OBSERVER=!0,a._setupCrossOriginUpdater=function(){return n||(n=function(t,n){r=t&&n?p(t,n):{top:0,bottom:0,left:0,right:0,width:0,height:0},e.forEach((function(t){t._checkForIntersections()}))}),n},a._resetCrossOriginUpdater=function(){n=null,r=null},a.prototype.observe=function(t){if(!this._observationTargets.some((function(e){return e.element==t}))){if(!t||1!=t.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:t,entry:null}),this._monitorIntersections(t.ownerDocument),this._checkForIntersections()}},a.prototype.unobserve=function(t){this._observationTargets=this._observationTargets.filter((function(e){return e.element!=t})),this._unmonitorIntersections(t.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},a.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},a.prototype.takeRecords=function(){var t=this._queuedEntries.slice();return this._queuedEntries=[],t},a.prototype._initThresholds=function(t){var e=t||[0];return Array.isArray(e)||(e=[e]),e.sort().filter((function(t,e,n){if("number"!=typeof t||isNaN(t)||t<0||t>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return t!==n[e-1]}))},a.prototype._parseRootMargin=function(t){var e=(t||"0px").split(/\s+/).map((function(t){var e=/^(-?\d*\.?\d+)(px|%)$/.exec(t);if(!e)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(e[1]),unit:e[2]}}));return e[1]=e[1]||e[0],e[2]=e[2]||e[0],e[3]=e[3]||e[1],e},a.prototype._monitorIntersections=function(e){var n=e.defaultView;if(n&&-1==this._monitoringDocuments.indexOf(e)){var r=this._checkForIntersections,i=null,a=null;this.POLL_INTERVAL?i=n.setInterval(r,this.POLL_INTERVAL):(s(n,"resize",r,!0),s(e,"scroll",r,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in n&&(a=new n.MutationObserver(r)).observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0})),this._monitoringDocuments.push(e),this._monitoringUnsubscribes.push((function(){var t=e.defaultView;t&&(i&&t.clearInterval(i),l(t,"resize",r,!0)),l(e,"scroll",r,!0),a&&a.disconnect()}));var c=this.root&&(this.root.ownerDocument||this.root)||t;if(e!=c){var u=o(e);u&&this._monitorIntersections(u.ownerDocument)}}},a.prototype._unmonitorIntersections=function(e){var n=this._monitoringDocuments.indexOf(e);if(-1!=n){var r=this.root&&(this.root.ownerDocument||this.root)||t,i=this._observationTargets.some((function(t){var n=t.element.ownerDocument;if(n==e)return!0;for(;n&&n!=r;){var i=o(n);if((n=i&&i.ownerDocument)==e)return!0}return!1}));if(!i){var a=this._monitoringUnsubscribes[n];if(this._monitoringDocuments.splice(n,1),this._monitoringUnsubscribes.splice(n,1),a(),e!=r){var s=o(e);s&&this._unmonitorIntersections(s.ownerDocument)}}}},a.prototype._unmonitorAllIntersections=function(){var t=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var e=0;e<t.length;e++)t[e]()},a.prototype._checkForIntersections=function(){if(this.root||!n||r){var t=this._rootIsInDom(),e=t?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(r){var o=r.element,a=c(o),s=this._rootContainsTarget(o),l=r.entry,u=t&&s&&this._computeTargetAndRootIntersection(o,a,e),p=null;this._rootContainsTarget(o)?n&&!this.root||(p=e):p={top:0,bottom:0,left:0,right:0,width:0,height:0};var d=r.entry=new i({time:window.performance&&performance.now&&performance.now(),target:o,boundingClientRect:a,rootBounds:p,intersectionRect:u});l?t&&s?this._hasCrossedThreshold(l,d)&&this._queuedEntries.push(d):l&&l.isIntersecting&&this._queuedEntries.push(d):this._queuedEntries.push(d)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},a.prototype._computeTargetAndRootIntersection=function(e,o,i){if("none"!=window.getComputedStyle(e).display){for(var a,s,l,u,d,f,y,m,g=o,v=h(e),w=!1;!w&&v;){var b=null,_=1==v.nodeType?window.getComputedStyle(v):{};if("none"==_.display)return null;if(v==this.root||9==v.nodeType)if(w=!0,v==this.root||v==t)n&&!this.root?!r||0==r.width&&0==r.height?(v=null,b=null,g=null):b=r:b=i;else{var A=h(v),E=A&&c(A),P=A&&this._computeTargetAndRootIntersection(A,E,i);E&&P?(v=A,b=p(E,P)):(v=null,g=null)}else{var S=v.ownerDocument;v!=S.body&&v!=S.documentElement&&"visible"!=_.overflow&&(b=c(v))}if(b&&(a=b,s=g,l=void 0,u=void 0,d=void 0,f=void 0,y=void 0,m=void 0,l=Math.max(a.top,s.top),u=Math.min(a.bottom,s.bottom),d=Math.max(a.left,s.left),f=Math.min(a.right,s.right),m=u-l,g=(y=f-d)>=0&&m>=0&&{top:l,bottom:u,left:d,right:f,width:y,height:m}||null),!g)break;v=v&&h(v)}return g}},a.prototype._getRootRect=function(){var e;if(this.root&&!f(this.root))e=c(this.root);else{var n=f(this.root)?this.root:t,r=n.documentElement,o=n.body;e={top:0,left:0,right:r.clientWidth||o.clientWidth,width:r.clientWidth||o.clientWidth,bottom:r.clientHeight||o.clientHeight,height:r.clientHeight||o.clientHeight}}return this._expandRectByRootMargin(e)},a.prototype._expandRectByRootMargin=function(t){var e=this._rootMarginValues.map((function(e,n){return"px"==e.unit?e.value:e.value*(n%2?t.width:t.height)/100})),n={top:t.top-e[0],right:t.right+e[1],bottom:t.bottom+e[2],left:t.left-e[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},a.prototype._hasCrossedThreshold=function(t,e){var n=t&&t.isIntersecting?t.intersectionRatio||0:-1,r=e.isIntersecting?e.intersectionRatio||0:-1;if(n!==r)for(var o=0;o<this.thresholds.length;o++){var i=this.thresholds[o];if(i==n||i==r||i<n!=i<r)return!0}},a.prototype._rootIsInDom=function(){return!this.root||d(t,this.root)},a.prototype._rootContainsTarget=function(e){var n=this.root&&(this.root.ownerDocument||this.root)||t;return d(n,e)&&(!this.root||n==e.ownerDocument)},a.prototype._registerInstance=function(){e.indexOf(this)<0&&e.push(this)},a.prototype._unregisterInstance=function(){var t=e.indexOf(this);-1!=t&&e.splice(t,1)},window.IntersectionObserver=a,window.IntersectionObserverEntry=i}function o(t){try{return t.defaultView&&t.defaultView.frameElement||null}catch(t){return null}}function i(t){this.time=t.time,this.target=t.target,this.rootBounds=u(t.rootBounds),this.boundingClientRect=u(t.boundingClientRect),this.intersectionRect=u(t.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0}),this.isIntersecting=!!t.intersectionRect;var e=this.boundingClientRect,n=e.width*e.height,r=this.intersectionRect,o=r.width*r.height;this.intersectionRatio=n?Number((o/n).toFixed(4)):this.isIntersecting?1:0}function a(t,e){var n,r,o,i=e||{};if("function"!=typeof t)throw new Error("callback must be a function");if(i.root&&1!=i.root.nodeType&&9!=i.root.nodeType)throw new Error("root must be a Document or Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),r=this.THROTTLE_TIMEOUT,o=null,function(){o||(o=setTimeout((function(){n(),o=null}),r))}),this._callback=t,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(i.rootMargin),this.thresholds=this._initThresholds(i.threshold),this.root=i.root||null,this.rootMargin=this._rootMarginValues.map((function(t){return t.value+t.unit})).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function s(t,e,n,r){"function"==typeof t.addEventListener?t.addEventListener(e,n,r||!1):"function"==typeof t.attachEvent&&t.attachEvent("on"+e,n)}function l(t,e,n,r){"function"==typeof t.removeEventListener?t.removeEventListener(e,n,r||!1):"function"==typeof t.detachEvent&&t.detachEvent("on"+e,n)}function c(t){var e;try{e=t.getBoundingClientRect()}catch(t){}return e?(e.width&&e.height||(e={top:e.top,right:e.right,bottom:e.bottom,left:e.left,width:e.right-e.left,height:e.bottom-e.top}),e):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function u(t){return!t||"x"in t?t:{top:t.top,y:t.top,bottom:t.bottom,left:t.left,x:t.left,right:t.right,width:t.width,height:t.height}}function p(t,e){var n=e.top-t.top,r=e.left-t.left;return{top:n,left:r,height:e.height,width:e.width,bottom:n+e.height,right:r+e.width}}function d(t,e){for(var n=e;n;){if(n==t)return!0;n=h(n)}return!1}function h(e){var n=e.parentNode;return 9==e.nodeType&&e!=t?o(e):(n&&n.assignedSlot&&(n=n.assignedSlot.parentNode),n&&11==n.nodeType&&n.host?n.host:n)}function f(t){return t&&9===t.nodeType}}()},485:(t,e,n)=>{var r="__lodash_hash_undefined__",o=1/0,i="[object Function]",a="[object GeneratorFunction]",s="[object Symbol]",l=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/,u=/^\./,p=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,d=/\\(\\)?/g,h=/^\[object .+?Constructor\]$/,f="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,y="object"==typeof self&&self&&self.Object===Object&&self,m=f||y||Function("return this")();var g,v=Array.prototype,w=Function.prototype,b=Object.prototype,_=m["__core-js_shared__"],A=(g=/[^.]+$/.exec(_&&_.keys&&_.keys.IE_PROTO||""))?"Symbol(src)_1."+g:"",E=w.toString,P=b.hasOwnProperty,S=b.toString,x=RegExp("^"+E.call(P).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),O=m.Symbol,C=v.splice,T=B(m,"Map"),I=B(Object,"create"),k=O?O.prototype:void 0,M=k?k.toString:void 0;function F(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function R(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function j(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function N(t,e){for(var n,r,o=t.length;o--;)if((n=t[o][0])===(r=e)||n!=n&&r!=r)return o;return-1}function U(t,e){var n;e=function(t,e){if(q(t))return!1;var n=typeof t;if("number"==n||"symbol"==n||"boolean"==n||null==t||H(t))return!0;return c.test(t)||!l.test(t)||null!=e&&t in Object(e)}(e,t)?[e]:q(n=e)?n:W(n);for(var r=0,o=e.length;null!=t&&r<o;)t=t[$(e[r++])];return r&&r==o?t:void 0}function L(t){if(!V(t)||(e=t,A&&A in e))return!1;var e,n=function(t){var e=V(t)?S.call(t):"";return e==i||e==a}(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?x:h;return n.test(function(t){if(null!=t){try{return E.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function D(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function B(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return L(n)?n:void 0}F.prototype.clear=function(){this.__data__=I?I(null):{}},F.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},F.prototype.get=function(t){var e=this.__data__;if(I){var n=e[t];return n===r?void 0:n}return P.call(e,t)?e[t]:void 0},F.prototype.has=function(t){var e=this.__data__;return I?void 0!==e[t]:P.call(e,t)},F.prototype.set=function(t,e){return this.__data__[t]=I&&void 0===e?r:e,this},R.prototype.clear=function(){this.__data__=[]},R.prototype.delete=function(t){var e=this.__data__,n=N(e,t);return!(n<0)&&(n==e.length-1?e.pop():C.call(e,n,1),!0)},R.prototype.get=function(t){var e=this.__data__,n=N(e,t);return n<0?void 0:e[n][1]},R.prototype.has=function(t){return N(this.__data__,t)>-1},R.prototype.set=function(t,e){var n=this.__data__,r=N(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},j.prototype.clear=function(){this.__data__={hash:new F,map:new(T||R),string:new F}},j.prototype.delete=function(t){return D(this,t).delete(t)},j.prototype.get=function(t){return D(this,t).get(t)},j.prototype.has=function(t){return D(this,t).has(t)},j.prototype.set=function(t,e){return D(this,t).set(t,e),this};var W=G((function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(H(t))return M?M.call(t):"";var e=t+"";return"0"==e&&1/t==-o?"-0":e}(e);var n=[];return u.test(t)&&n.push(""),t.replace(p,(function(t,e,r,o){n.push(r?o.replace(d,"$1"):e||t)})),n}));function $(t){if("string"==typeof t||H(t))return t;var e=t+"";return"0"==e&&1/t==-o?"-0":e}function G(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a),a};return n.cache=new(G.Cache||j),n}G.Cache=j;var q=Array.isArray;function V(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function H(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&S.call(t)==s}t.exports=function(t,e,n){var r=null==t?void 0:U(t,e);return void 0===r?n:r}},649:(t,e,n)=>{var r="__lodash_hash_undefined__",o=1/0,i=9007199254740991,a="[object Function]",s="[object GeneratorFunction]",l="[object Symbol]",c=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,u=/^\w*$/,p=/^\./,d=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,h=/\\(\\)?/g,f=/^\[object .+?Constructor\]$/,y=/^(?:0|[1-9]\d*)$/,m="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,g="object"==typeof self&&self&&self.Object===Object&&self,v=m||g||Function("return this")();var w,b=Array.prototype,_=Function.prototype,A=Object.prototype,E=v["__core-js_shared__"],P=(w=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||""))?"Symbol(src)_1."+w:"",S=_.toString,x=A.hasOwnProperty,O=A.toString,C=RegExp("^"+S.call(x).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),T=v.Symbol,I=b.splice,k=G(v,"Map"),M=G(Object,"create"),F=T?T.prototype:void 0,R=F?F.toString:void 0;function j(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function N(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function U(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function L(t,e,n){var r=t[e];x.call(t,e)&&Y(r,n)&&(void 0!==n||e in t)||(t[e]=n)}function D(t,e){for(var n=t.length;n--;)if(Y(t[n][0],e))return n;return-1}function B(t){if(!X(t)||(e=t,P&&P in e))return!1;var e,n=function(t){var e=X(t)?O.call(t):"";return e==a||e==s}(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(t){}return e}(t)?C:f;return n.test(function(t){if(null!=t){try{return S.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function W(t,e,n,r){if(!X(t))return t;e=function(t,e){if(J(t))return!1;var n=typeof t;if("number"==n||"symbol"==n||"boolean"==n||null==t||Q(t))return!0;return u.test(t)||!c.test(t)||null!=e&&t in Object(e)}(e,t)?[e]:function(t){return J(t)?t:V(t)}(e);for(var o=-1,i=e.length,a=i-1,s=t;null!=s&&++o<i;){var l=H(e[o]),p=n;if(o!=a){var d=s[l];void 0===(p=r?r(d,l,s):void 0)&&(p=X(d)?d:q(e[o+1])?[]:{})}L(s,l,p),s=s[l]}return t}function $(t,e){var n,r,o=t.__data__;return("string"==(r=typeof(n=e))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?o["string"==typeof e?"string":"hash"]:o.map}function G(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return B(n)?n:void 0}function q(t,e){return!!(e=null==e?i:e)&&("number"==typeof t||y.test(t))&&t>-1&&t%1==0&&t<e}j.prototype.clear=function(){this.__data__=M?M(null):{}},j.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},j.prototype.get=function(t){var e=this.__data__;if(M){var n=e[t];return n===r?void 0:n}return x.call(e,t)?e[t]:void 0},j.prototype.has=function(t){var e=this.__data__;return M?void 0!==e[t]:x.call(e,t)},j.prototype.set=function(t,e){return this.__data__[t]=M&&void 0===e?r:e,this},N.prototype.clear=function(){this.__data__=[]},N.prototype.delete=function(t){var e=this.__data__,n=D(e,t);return!(n<0)&&(n==e.length-1?e.pop():I.call(e,n,1),!0)},N.prototype.get=function(t){var e=this.__data__,n=D(e,t);return n<0?void 0:e[n][1]},N.prototype.has=function(t){return D(this.__data__,t)>-1},N.prototype.set=function(t,e){var n=this.__data__,r=D(n,t);return r<0?n.push([t,e]):n[r][1]=e,this},U.prototype.clear=function(){this.__data__={hash:new j,map:new(k||N),string:new j}},U.prototype.delete=function(t){return $(this,t).delete(t)},U.prototype.get=function(t){return $(this,t).get(t)},U.prototype.has=function(t){return $(this,t).has(t)},U.prototype.set=function(t,e){return $(this,t).set(t,e),this};var V=z((function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(Q(t))return R?R.call(t):"";var e=t+"";return"0"==e&&1/t==-o?"-0":e}(e);var n=[];return p.test(t)&&n.push(""),t.replace(d,(function(t,e,r,o){n.push(r?o.replace(h,"$1"):e||t)})),n}));function H(t){if("string"==typeof t||Q(t))return t;var e=t+"";return"0"==e&&1/t==-o?"-0":e}function z(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a),a};return n.cache=new(z.Cache||U),n}function Y(t,e){return t===e||t!=t&&e!=e}z.Cache=U;var J=Array.isArray;function X(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Q(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&O.call(t)==l}t.exports=function(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:W(t,e,n,r)}},691:(t,e,n)=>{"use strict";var r;if(!Object.keys){var o=Object.prototype.hasOwnProperty,i=Object.prototype.toString,a=n(801),s=Object.prototype.propertyIsEnumerable,l=!s.call({toString:null},"toString"),c=s.call((function(){}),"prototype"),u=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],p=function(t){var e=t.constructor;return e&&e.prototype===t},d={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},h=function(){if("undefined"==typeof window)return!1;for(var t in window)try{if(!d["$"+t]&&o.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{p(window[t])}catch(t){return!0}}catch(t){return!0}return!1}();r=function(t){var e=null!==t&&"object"==typeof t,n="[object Function]"===i.call(t),r=a(t),s=e&&"[object String]"===i.call(t),d=[];if(!e&&!n&&!r)throw new TypeError("Object.keys called on a non-object");var f=c&&n;if(s&&t.length>0&&!o.call(t,0))for(var y=0;y<t.length;++y)d.push(String(y));if(r&&t.length>0)for(var m=0;m<t.length;++m)d.push(String(m));else for(var g in t)f&&"prototype"===g||!o.call(t,g)||d.push(String(g));if(l)for(var v=function(t){if("undefined"==typeof window||!h)return p(t);try{return p(t)}catch(t){return!1}}(t),w=0;w<u.length;++w)v&&"constructor"===u[w]||!o.call(t,u[w])||d.push(u[w]);return d}}t.exports=r},464:(t,e,n)=>{"use strict";var r=Array.prototype.slice,o=n(801),i=Object.keys,a=i?function(t){return i(t)}:n(691),s=Object.keys;a.shim=function(){if(Object.keys){var t=function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2);t||(Object.keys=function(t){return o(t)?s(r.call(t)):s(t)})}else Object.keys=a;return Object.keys||a},t.exports=a},801:t=>{"use strict";var e=Object.prototype.toString;t.exports=function(t){var n=e.call(t),r="[object Arguments]"===n;return r||(r="[object Array]"!==n&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&t.length>=0&&"[object Function]"===e.call(t.callee)),r}},968:(t,e,n)=>{"use strict";var r=n(254),o=n(680),i=o("Object.prototype.propertyIsEnumerable"),a=o("Array.prototype.push");t.exports=function(t){var e=r(t),n=[];for(var o in e)i(e,o)&&a(n,[o,e[o]]);return n}},552:(t,e,n)=>{"use strict";var r=n(917),o=n(429),i=n(968),a=n(554),s=n(660),l=o(a(),Object);r(l,{getPolyfill:a,implementation:i,shim:s}),t.exports=l},917:(t,e,n)=>{"use strict";var r=n(464),o="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),i=Object.prototype.toString,a=Array.prototype.concat,s=Object.defineProperty,l=n(181)(),c=s&&l,u=function(t,e,n,r){if(e in t)if(!0===r){if(t[e]===n)return}else if("function"!=typeof(o=r)||"[object Function]"!==i.call(o)||!r())return;var o;c?s(t,e,{configurable:!0,enumerable:!1,value:n,writable:!0}):t[e]=n},p=function(t,e){var n=arguments.length>2?arguments[2]:{},i=r(e);o&&(i=a.call(i,Object.getOwnPropertySymbols(e)));for(var s=0;s<i.length;s+=1)u(t,i[s],e[i[s]],n[i[s]])};p.supportsDescriptors=!!c,t.exports=p},554:(t,e,n)=>{"use strict";var r=n(968);t.exports=function(){return"function"==typeof Object.entries?Object.entries:r}},660:(t,e,n)=>{"use strict";var r=n(554),o=n(917);t.exports=function(){var t=r();return o(Object,{entries:t},{entries:function(){return Object.entries!==t}}),t}},426:t=>{"use strict";function e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,n,r,o){n=n||"&",r=r||"=";var i={};if("string"!=typeof t||0===t.length)return i;var a=/\+/g;t=t.split(n);var s=1e3;o&&"number"==typeof o.maxKeys&&(s=o.maxKeys);var l=t.length;s>0&&l>s&&(l=s);for(var c=0;c<l;++c){var u,p,d,h,f=t[c].replace(a,"%20"),y=f.indexOf(r);y>=0?(u=f.substr(0,y),p=f.substr(y+1)):(u=f,p=""),d=decodeURIComponent(u),h=decodeURIComponent(p),e(i,d)?Array.isArray(i[d])?i[d].push(h):i[d]=[i[d],h]:i[d]=h}return i}},99:t=>{"use strict";var e=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,n,r,o){return n=n||"&",r=r||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map((function(o){var i=encodeURIComponent(e(o))+r;return Array.isArray(t[o])?t[o].map((function(t){return i+encodeURIComponent(e(t))})).join(n):i+encodeURIComponent(e(t[o]))})).filter(Boolean).join(n):o?encodeURIComponent(e(o))+r+encodeURIComponent(e(t)):""}},787:(t,e,n)=>{"use strict";e.parse=n(426),e.stringify=n(99)},254:(t,e,n)=>{"use strict";t.exports=n(521)},521:(t,e,n)=>{"use strict";var r=n(286)("%TypeError%");t.exports=function(t,e){if(null==t)throw new r(e||"Cannot call method on "+t);return t}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.n=t=>{var e=t&&t.__esModule?()=>t.default:()=>t;return n.d(e,{a:e}),e},n.d=(t,e)=>{for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var r={};(()=>{"use strict";n.r(r),n.d(r,{widget:()=>sr});n(360);var t=n(552),e=n.n(t);n(87);Object.entries||e().shim();var o=n(787);const i="FRILL_ENV";function a(t,e=""){var n,r;return"undefined"!=typeof process&&t in process.env?null!=(n=process.env[t])?n:e:"undefined"!=typeof window&&window[i]&&null!=(r=window[i][t])?r:e}const s=Boolean(!1),l="production",c=(a("PUBLIC_CDN_URL",""),"undefined"==typeof window),u=(!c&&navigator&&navigator.appVersion.indexOf("Win"),!!c||navigator&&navigator.userAgent.includes("Macintosh"),!c&&navigator&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent),a("PUBLIC_BASE_DOMAIN","frill.co"),a("PUBLIC_APP_GTM_ID"),a("PUBLIC_RECAPTCHA_SITE_KEY"),a("PUBLIC_HELP_SCOUT_ID"),a("PUBLIC_CUSTOMER_IO_ID"),a("PUBLIC_USERMAVEN_KEY"),"#ef567c"),p=(a("PUBLIC_CUSTOM_DOMAIN_CNAME","cname.frill.co"),a("PUBLIC_HOMEPAGE_URL","https://frill.co"),a("PUBLIC_HOMEPAGE_URL","https://frill.co/pricing"),a("PUBLIC_FEEDBACK_URL","https://feedback.frill.co"),a("PUBLIC_NOTIFICATIONS_EMAIL","notifications@frill.co"),a("PUBLIC_SUPPORT_EMAIL","support@frill.co"),{HOME:"https://help.frill.co",SSO:" https://help.frill.co/article/65-sso-implementation",WIDGET:"https://help.frill.co/article/75-adding-the-widget",WIDGET_SSO:"https://help.frill.co/article/97-widget-sso",WIDGET_EXAMPLES:"https://github.com/Frill-co/frill-widget-examples",WIDGET_EXAMPLE_HTML:"https://github.com/Frill-co/frill-widget-examples/tree/master/html",WIDGET_EXAMPLE_REACT:"https://github.com/Frill-co/frill-widget-examples/tree/master/react",WIDGET_EXAMPLE_VUE:"https://github.com/Frill-co/frill-widget-examples/tree/master/vue",WIDGET_EXAMPLE_ANGULAR:"https://github.com/Frill-co/frill-widget-examples/tree/master/angular",DOMAINS:"https://help.frill.co/article/88-setting-up-a-custom-domain",WEBHOOKS:"https://help.frill.co/article/93-webhooks",EMAILS:"https://help.frill.co/article/114-setting-up-a-custom-email-domain",AUTHENTICATION:"https://help.frill.co/article/99-different-types-of-authentication",FEEDBACK_BEACONS:"https://help.frill.co/article/126-feedback-beacons",IDEA_POLLS:"https://help.frill.co/article/159-idea-polls",INTEGRATIONS_INTERCOM:"https://help.frill.co/article/133-intercom-integration",INTEGRATIONS_HELPSCOUT:"https://help.frill.co/article/149-frill-helpscout-integration",INTEGRATIONS_ZAPIER:"https://help.frill.co/article/152-zapier-integration-for-frill",PRIORITY_SCORE:"https://help.frill.co/article/145-how-does-prioritization-work",MAINTENANCE_MAY_28:"https://help.frill.co/article/155-scheduled-maintenance-may-28-2023",CUSTOM_ATTRIBUTES:"https://help.frill.co/article/155-scheduled-maintenance-may-28-2023"}),d=(a("PUBLIC_SUPERADMIN_URL","https://superadmin.frill.co"),"/signup"),h="/login",f="/login/sso",y="/login/code",m="/forgot-password",g="/reset-password",v="/terms-of-service",w="/privacy-policy",b="/settings/profile",_="/settings/notifications",A="/settings/unsubscribe",E="/settings/company/billing",P="/settings/company/upgrade",S="v2",x=("undefined"!=typeof window&&(window.top,window),"https://widget.frill.co"),O=s?"https://localhost:3000":`${x}${`/${S}/app`}`,C=s?"widget.css":`${x}/${S}/widget.css`,T="Frill_Config",I="Frill_Callbacks",k="data-frill-widget",M="data-frill-sso",F="data-frill-widget-loaded",R="Frill_Frame",j="Frill_Badge",N="Frill_Notification",U="Frill_Trigger",L="Frill_Trigger--unread",D="Frill_View",B="/announcements",W="/announcements/[announcementSlug]",$="/roadmap",G="/ideas",q="/create-idea",V="Open Feedback Widget",H="Close Feedback Widget",z=(a("PUBLIC_API_BASE_URI","https://api.frill.co"),"/settings/"),Y=[d,h,f,y,m,g],J=[...Y,v,w,A];function X(t=""){return(0,o.parse)(t.replace("?",""))}function Q(t={}){return(0,o.stringify)(Object.entries(t).reduce(((t,[e,n])=>(null!=n&&(t[e]=n),t)),{}))}function K(t,e={}){return Object.keys(e).reduce(((t,n)=>{const r=(o=e[n],Array.isArray(o)?o.join(","):o?o.toString():"");var o;return t.replace(`[${n}]`,r||"").replace(`[[...${n}]]`,r||"")}),t)}function Z(t){return Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z(t)}function tt(t,e){if(e.length<t)throw new TypeError(t+" argument"+(t>1?"s":"")+" required, but only "+e.length+" present")}function et(t){tt(1,arguments);var e=Object.prototype.toString.call(t);return t instanceof Date||"object"===Z(t)&&"[object Date]"===e?new Date(t.getTime()):"number"==typeof t||"[object Number]"===e?new Date(t):("string"!=typeof t&&"[object String]"!==e||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn((new Error).stack)),new Date(NaN))}function nt(t){if(tt(1,arguments),!function(t){return tt(1,arguments),t instanceof Date||"object"===Z(t)&&"[object Date]"===Object.prototype.toString.call(t)}(t)&&"number"!=typeof t)return!1;var e=et(t);return!isNaN(Number(e))}function rt(t){if(null===t||!0===t||!1===t)return NaN;var e=Number(t);return isNaN(e)?e:e<0?Math.ceil(e):Math.floor(e)}function ot(t,e){return tt(2,arguments),function(t,e){tt(2,arguments);var n=et(t).getTime(),r=rt(e);return new Date(n+r)}(t,-rt(e))}function it(t){tt(1,arguments);var e=et(t),n=e.getUTCDay(),r=(n<1?7:0)+n-1;return e.setUTCDate(e.getUTCDate()-r),e.setUTCHours(0,0,0,0),e}function at(t){tt(1,arguments);var e=et(t),n=e.getUTCFullYear(),r=new Date(0);r.setUTCFullYear(n+1,0,4),r.setUTCHours(0,0,0,0);var o=it(r),i=new Date(0);i.setUTCFullYear(n,0,4),i.setUTCHours(0,0,0,0);var a=it(i);return e.getTime()>=o.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function st(t){tt(1,arguments);var e=et(t),n=it(e).getTime()-function(t){tt(1,arguments);var e=at(t),n=new Date(0);return n.setUTCFullYear(e,0,4),n.setUTCHours(0,0,0,0),it(n)}(e).getTime();return Math.round(n/6048e5)+1}var lt={};function ct(){return lt}function ut(t,e){var n,r,o,i,a,s,l,c;tt(1,arguments);var u=ct(),p=rt(null!==(n=null!==(r=null!==(o=null!==(i=null==e?void 0:e.weekStartsOn)&&void 0!==i?i:null==e||null===(a=e.locale)||void 0===a||null===(s=a.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==o?o:u.weekStartsOn)&&void 0!==r?r:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.weekStartsOn)&&void 0!==n?n:0);if(!(p>=0&&p<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var d=et(t),h=d.getUTCDay(),f=(h<p?7:0)+h-p;return d.setUTCDate(d.getUTCDate()-f),d.setUTCHours(0,0,0,0),d}function pt(t,e){var n,r,o,i,a,s,l,c;tt(1,arguments);var u=et(t),p=u.getUTCFullYear(),d=ct(),h=rt(null!==(n=null!==(r=null!==(o=null!==(i=null==e?void 0:e.firstWeekContainsDate)&&void 0!==i?i:null==e||null===(a=e.locale)||void 0===a||null===(s=a.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==o?o:d.firstWeekContainsDate)&&void 0!==r?r:null===(l=d.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==n?n:1);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=new Date(0);f.setUTCFullYear(p+1,0,h),f.setUTCHours(0,0,0,0);var y=ut(f,e),m=new Date(0);m.setUTCFullYear(p,0,h),m.setUTCHours(0,0,0,0);var g=ut(m,e);return u.getTime()>=y.getTime()?p+1:u.getTime()>=g.getTime()?p:p-1}function dt(t,e){tt(1,arguments);var n=et(t),r=ut(n,e).getTime()-function(t,e){var n,r,o,i,a,s,l,c;tt(1,arguments);var u=ct(),p=rt(null!==(n=null!==(r=null!==(o=null!==(i=null==e?void 0:e.firstWeekContainsDate)&&void 0!==i?i:null==e||null===(a=e.locale)||void 0===a||null===(s=a.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==o?o:u.firstWeekContainsDate)&&void 0!==r?r:null===(l=u.locale)||void 0===l||null===(c=l.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==n?n:1),d=pt(t,e),h=new Date(0);return h.setUTCFullYear(d,0,p),h.setUTCHours(0,0,0,0),ut(h,e)}(n,e).getTime();return Math.round(r/6048e5)+1}function ht(t,e){for(var n=t<0?"-":"",r=Math.abs(t).toString();r.length<e;)r="0"+r;return n+r}const ft={y:function(t,e){var n=t.getUTCFullYear(),r=n>0?n:1-n;return ht("yy"===e?r%100:r,e.length)},M:function(t,e){var n=t.getUTCMonth();return"M"===e?String(n+1):ht(n+1,2)},d:function(t,e){return ht(t.getUTCDate(),e.length)},a:function(t,e){var n=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:function(t,e){return ht(t.getUTCHours()%12||12,e.length)},H:function(t,e){return ht(t.getUTCHours(),e.length)},m:function(t,e){return ht(t.getUTCMinutes(),e.length)},s:function(t,e){return ht(t.getUTCSeconds(),e.length)},S:function(t,e){var n=e.length,r=t.getUTCMilliseconds();return ht(Math.floor(r*Math.pow(10,n-3)),e.length)}};var yt="midnight",mt="noon",gt="morning",vt="afternoon",wt="evening",bt="night",_t={G:function(t,e,n){var r=t.getUTCFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if("yo"===e){var r=t.getUTCFullYear(),o=r>0?r:1-r;return n.ordinalNumber(o,{unit:"year"})}return ft.y(t,e)},Y:function(t,e,n,r){var o=pt(t,r),i=o>0?o:1-o;return"YY"===e?ht(i%100,2):"Yo"===e?n.ordinalNumber(i,{unit:"year"}):ht(i,e.length)},R:function(t,e){return ht(at(t),e.length)},u:function(t,e){return ht(t.getUTCFullYear(),e.length)},Q:function(t,e,n){var r=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return ht(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){var r=Math.ceil((t.getUTCMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return ht(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){var r=t.getUTCMonth();switch(e){case"M":case"MM":return ft.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){var r=t.getUTCMonth();switch(e){case"L":return String(r+1);case"LL":return ht(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){var o=dt(t,r);return"wo"===e?n.ordinalNumber(o,{unit:"week"}):ht(o,e.length)},I:function(t,e,n){var r=st(t);return"Io"===e?n.ordinalNumber(r,{unit:"week"}):ht(r,e.length)},d:function(t,e,n){return"do"===e?n.ordinalNumber(t.getUTCDate(),{unit:"date"}):ft.d(t,e)},D:function(t,e,n){var r=function(t){tt(1,arguments);var e=et(t),n=e.getTime();e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0);var r=n-e.getTime();return Math.floor(r/864e5)+1}(t);return"Do"===e?n.ordinalNumber(r,{unit:"dayOfYear"}):ht(r,e.length)},E:function(t,e,n){var r=t.getUTCDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){var o=t.getUTCDay(),i=(o-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return ht(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(o,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(o,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(o,{width:"short",context:"formatting"});default:return n.day(o,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){var o=t.getUTCDay(),i=(o-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return ht(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(o,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(o,{width:"narrow",context:"standalone"});case"cccccc":return n.day(o,{width:"short",context:"standalone"});default:return n.day(o,{width:"wide",context:"standalone"})}},i:function(t,e,n){var r=t.getUTCDay(),o=0===r?7:r;switch(e){case"i":return String(o);case"ii":return ht(o,e.length);case"io":return n.ordinalNumber(o,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){var r=t.getUTCHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,e,n){var r,o=t.getUTCHours();switch(r=12===o?mt:0===o?yt:o/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,e,n){var r,o=t.getUTCHours();switch(r=o>=17?wt:o>=12?vt:o>=4?gt:bt,e){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,e,n){if("ho"===e){var r=t.getUTCHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return ft.h(t,e)},H:function(t,e,n){return"Ho"===e?n.ordinalNumber(t.getUTCHours(),{unit:"hour"}):ft.H(t,e)},K:function(t,e,n){var r=t.getUTCHours()%12;return"Ko"===e?n.ordinalNumber(r,{unit:"hour"}):ht(r,e.length)},k:function(t,e,n){var r=t.getUTCHours();return 0===r&&(r=24),"ko"===e?n.ordinalNumber(r,{unit:"hour"}):ht(r,e.length)},m:function(t,e,n){return"mo"===e?n.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):ft.m(t,e)},s:function(t,e,n){return"so"===e?n.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):ft.s(t,e)},S:function(t,e){return ft.S(t,e)},X:function(t,e,n,r){var o=(r._originalDate||t).getTimezoneOffset();if(0===o)return"Z";switch(e){case"X":return Et(o);case"XXXX":case"XX":return Pt(o);default:return Pt(o,":")}},x:function(t,e,n,r){var o=(r._originalDate||t).getTimezoneOffset();switch(e){case"x":return Et(o);case"xxxx":case"xx":return Pt(o);default:return Pt(o,":")}},O:function(t,e,n,r){var o=(r._originalDate||t).getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+At(o,":");default:return"GMT"+Pt(o,":")}},z:function(t,e,n,r){var o=(r._originalDate||t).getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+At(o,":");default:return"GMT"+Pt(o,":")}},t:function(t,e,n,r){var o=r._originalDate||t;return ht(Math.floor(o.getTime()/1e3),e.length)},T:function(t,e,n,r){return ht((r._originalDate||t).getTime(),e.length)}};function At(t,e){var n=t>0?"-":"+",r=Math.abs(t),o=Math.floor(r/60),i=r%60;if(0===i)return n+String(o);var a=e||"";return n+String(o)+a+ht(i,2)}function Et(t,e){return t%60==0?(t>0?"-":"+")+ht(Math.abs(t)/60,2):Pt(t,e)}function Pt(t,e){var n=e||"",r=t>0?"-":"+",o=Math.abs(t);return r+ht(Math.floor(o/60),2)+n+ht(o%60,2)}const St=_t;var xt=function(t,e){switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});default:return e.date({width:"full"})}},Ot=function(t,e){switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});default:return e.time({width:"full"})}},Ct={p:Ot,P:function(t,e){var n,r=t.match(/(P+)(p+)?/)||[],o=r[1],i=r[2];if(!i)return xt(t,e);switch(o){case"P":n=e.dateTime({width:"short"});break;case"PP":n=e.dateTime({width:"medium"});break;case"PPP":n=e.dateTime({width:"long"});break;default:n=e.dateTime({width:"full"})}return n.replace("{{date}}",xt(o,e)).replace("{{time}}",Ot(i,e))}};const Tt=Ct;var It=["D","DD"],kt=["YY","YYYY"];function Mt(t,e,n){if("YYYY"===t)throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("YY"===t)throw new RangeError("Use `yy` instead of `YY` (in `".concat(e,"`) for formatting years to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("D"===t)throw new RangeError("Use `d` instead of `D` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if("DD"===t)throw new RangeError("Use `dd` instead of `DD` (in `".concat(e,"`) for formatting days of the month to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var Ft={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};const Rt=function(t,e,n){var r,o=Ft[t];return r="string"==typeof o?o:1===e?o.one:o.other.replace("{{count}}",e.toString()),null!=n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function jt(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}var Nt={date:jt({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:jt({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:jt({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})};var Ut={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function Lt(t){return function(e,n){var r;if("formatting"===(null!=n&&n.context?String(n.context):"standalone")&&t.formattingValues){var o=t.defaultFormattingWidth||t.defaultWidth,i=null!=n&&n.width?String(n.width):o;r=t.formattingValues[i]||t.formattingValues[o]}else{var a=t.defaultWidth,s=null!=n&&n.width?String(n.width):t.defaultWidth;r=t.values[s]||t.values[a]}return r[t.argumentCallback?t.argumentCallback(e):e]}}function Dt(t){return function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,o=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(o);if(!i)return null;var a,s=i[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?function(t,e){for(var n=0;n<t.length;n++)if(e(t[n]))return n;return}(l,(function(t){return t.test(s)})):function(t,e){for(var n in t)if(t.hasOwnProperty(n)&&e(t[n]))return n;return}(l,(function(t){return t.test(s)}));return a=t.valueCallback?t.valueCallback(c):c,{value:a=n.valueCallback?n.valueCallback(a):a,rest:e.slice(s.length)}}}var Bt;const Wt={code:"en-US",formatDistance:Rt,formatLong:Nt,formatRelative:function(t,e,n,r){return Ut[t]},localize:{ordinalNumber:function(t,e){var n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:Lt({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:Lt({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:Lt({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:Lt({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:Lt({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(Bt={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(t){return parseInt(t,10)}},function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.match(Bt.matchPattern);if(!n)return null;var r=n[0],o=t.match(Bt.parsePattern);if(!o)return null;var i=Bt.valueCallback?Bt.valueCallback(o[0]):o[0];return{value:i=e.valueCallback?e.valueCallback(i):i,rest:t.slice(r.length)}}),era:Dt({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:Dt({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:Dt({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:Dt({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:Dt({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};var $t=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Gt=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,qt=/^'([^]*?)'?$/,Vt=/''/g,Ht=/[a-zA-Z]/;function zt(t,e,n){var r,o,i,a,s,l,c,u,p,d,h,f,y,m,g,v,w,b;tt(2,arguments);var _=String(e),A=ct(),E=null!==(r=null!==(o=null==n?void 0:n.locale)&&void 0!==o?o:A.locale)&&void 0!==r?r:Wt,P=rt(null!==(i=null!==(a=null!==(s=null!==(l=null==n?void 0:n.firstWeekContainsDate)&&void 0!==l?l:null==n||null===(c=n.locale)||void 0===c||null===(u=c.options)||void 0===u?void 0:u.firstWeekContainsDate)&&void 0!==s?s:A.firstWeekContainsDate)&&void 0!==a?a:null===(p=A.locale)||void 0===p||null===(d=p.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==i?i:1);if(!(P>=1&&P<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var S=rt(null!==(h=null!==(f=null!==(y=null!==(m=null==n?void 0:n.weekStartsOn)&&void 0!==m?m:null==n||null===(g=n.locale)||void 0===g||null===(v=g.options)||void 0===v?void 0:v.weekStartsOn)&&void 0!==y?y:A.weekStartsOn)&&void 0!==f?f:null===(w=A.locale)||void 0===w||null===(b=w.options)||void 0===b?void 0:b.weekStartsOn)&&void 0!==h?h:0);if(!(S>=0&&S<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!E.localize)throw new RangeError("locale must contain localize property");if(!E.formatLong)throw new RangeError("locale must contain formatLong property");var x=et(t);if(!nt(x))throw new RangeError("Invalid time value");var O=function(t){var e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),t.getTime()-e.getTime()}(x),C=ot(x,O),T={firstWeekContainsDate:P,weekStartsOn:S,locale:E,_originalDate:x};return _.match(Gt).map((function(t){var e=t[0];return"p"===e||"P"===e?(0,Tt[e])(t,E.formatLong):t})).join("").match($t).map((function(r){if("''"===r)return"'";var o=r[0];if("'"===o)return function(t){var e=t.match(qt);if(!e)return t;return e[1].replace(Vt,"'")}(r);var i,a=St[o];if(a)return null!=n&&n.useAdditionalWeekYearTokens||(i=r,-1===kt.indexOf(i))||Mt(r,e,String(t)),null!=n&&n.useAdditionalDayOfYearTokens||!function(t){return-1!==It.indexOf(t)}(r)||Mt(r,e,String(t)),a(C,r,E.localize,T);if(o.match(Ht))throw new RangeError("Format string contains an unescaped latin alphabet character `"+o+"`");return r})).join("")}const Yt={default:"MMM d at h:mm a",defaultWithDayOfWeek:"EEEE, MMM d 'at' h:mm a",dateTime:"yyyy-MM-dd HH:mm",dateTitle:"MMM d, yyyy 'at' h:mm a",month:"MMM",monthDay:"MMM d",monthDayYear:"MMM d, yyyy",dayOfYear:"D",logger:"h:mm:ss.SS"};const Jt=console,Xt={timestamp:"gray",disable:"gray",default:"gray",debug:"gray",log:"inherit",info:"inherit",warn:"#F1B109",error:"#F20404"},Qt={debug:0,log:1,info:2,warn:3,error:4,disable:5};const Kt=function(){var t;if(c)return Qt.disable;const{logLevel:e}=X(window.location.search.replace("?",""));return null!=(t=Qt["string"==typeof e?e:"disable"])?t:Qt.disable}();function Zt(t){return[`color: ${Xt.default}; font-weight: lighter;`,`color: ${Xt[t]}; font-weight: bold;`,`color: ${Xt.timestamp}; font-weight: lighter;`]}function te(t,e){var n;return`%c ${t} %c${e} %c@ ${zt(new Date,Yt["logger"],n)}`}function ee(t,e,...n){if(Kt>Qt[t])return;if(c)return;const[r,...o]=n,i="log"===t||"info"===t;if(i&&(!o||0===o.length)&&"string"==typeof r)return void Jt[t](te(e,r),...Zt(t));const a=i&&"string"==typeof r,s=te(e,a?r:t);Jt.groupCollapsed(s,...Zt(t)),a||Jt[t](r),void 0!==o&&o.length>0&&Jt[t](...o),Jt.groupEnd()}function ne(t){return{debug(...e){ee("log",t,...e)},log(...e){ee("log",t,...e)},info(...e){ee("info",t,...e)},error(...e){ee("error",t,...e),function(t=[]){let e;const n={};t.forEach(((t,r)=>{t&&t.stack&&"string"==typeof t.message?e=t:n[`context-${r}`]=t}))}(e)},warn(...e){ee("warn",t,...e)}}}ne("common");class re{constructor(t,e){this.key=t,this.name=e,this.i=0,this.promises=new Map,this.listeners=new Map,this.logger=ne(this.name),this.messenger={send:t=>{parent.postMessage(t,"*")}},this.destroy=()=>{window.removeEventListener("message",this.handleMessage,!1)},this.handleMessage=t=>{var e,n,r;if("FRILL"!==(null==(e=null==t?void 0:t.data)?void 0:e.type)||(null==(n=null==t?void 0:t.data)?void 0:n.sender)===this.name||(null==(r=null==t?void 0:t.data)?void 0:r.key)!==this.key)return;this.logger.debug("receive",t);const{message:o}=t.data;if("requestId"in o){const{requestId:t,payload:e}=o;if(this.promises.has(t)){const[n]=this.promises.get(t);n(e)}}this.call(o.type,t.data)},this.create()}create(){window.addEventListener("message",this.handleMessage,!1)}request(t){return e=this,n=null,r=function*(){return this.logger.debug("request",t),new Promise(((e,n)=>{const r=this.send(t);this.promises.set(r.id,[e,n])}))},new Promise(((t,o)=>{var i=t=>{try{s(r.next(t))}catch(t){o(t)}},a=t=>{try{s(r.throw(t))}catch(t){o(t)}},s=e=>e.done?t(e.value):Promise.resolve(e.value).then(i,a);s((r=r.apply(e,n)).next())}));var e,n,r}listen(t,e){this.listeners.has(t)||this.listeners.set(t,[]);const n=this.listeners.get(t);return n.push(e),()=>{n.filter((t=>t!==e))}}send(t){if(!this.messenger)return;const e={type:"FRILL",key:this.key,sender:this.name,id:this.i++,message:t};return this.messenger.send(e),this.logger.debug("send",e),e}call(t,...e){if(this.logger.debug("call",t,e),!this.listeners.has(t))return;this.listeners.get(t).forEach((t=>t(...e)))}}class oe extends re{constructor(t){super(t,"widget"),this._isReady=!1,this._queue=[],this.messenger={send:t=>{var e;this._isReady?(null==(e=this._frame)?void 0:e.contentWindow)&&this._frame.contentWindow.postMessage(t,"*"):this._queue.push(t)}}}set frame(t){this._frame=t}ready(){this._isReady=!0}flush(){let t=this._queue.pop();for(;t;)this.messenger.send(t),t=this._queue.pop()}}function ie(...t){console.warn("%c Frill.co","font-weight: bold;",t.join("\n\n"),`\n\nContact support for more help or see our examples: ${p.WIDGET_EXAMPLES}`)}class ae extends Error{constructor(){super(...arguments),this.isKnown=!0}}var se=(t,e,n)=>new Promise(((r,o)=>{var i=t=>{try{s(n.next(t))}catch(t){o(t)}},a=t=>{try{s(n.throw(t))}catch(t){o(t)}},s=t=>t.done?r(t.value):Promise.resolve(t.value).then(i,a);s((n=n.apply(t,e)).next())}));class le{constructor(t){this.key=t,this.cache={},this.widget=()=>se(this,null,(function*(){try{const{hostname:t}=window.location;return this.get(function(t,e={}){const n=Q(e);return n?`${t}?${n}`:t}(z,{host:t}))}catch(t){throw new ae("Failed to load widget settings")}}))}get base(){return"https://widget.frill.co"}get(t){return se(this,null,(function*(){const e=`${this.base}/api/v2/[key]${t}`.replace("[key]",this.key);if(!this.cache[e]){const t=yield fetch(e);this.cache[e]=yield t.json()}return this.cache[e]}))}}function ce(t){return function(t){const e=[];return e.length&&ie("Your Frill Widget configuration is using deprecated options that will eventually be removed. Please update your code to avoid unexpected changes.",e.join(""),`For more help please see ${p.WIDGET}`),{config:t,warnings:e}}(t)}function ue(t){const e=document.createElement("iframe");e.tabIndex=0,e.setAttribute("sandbox","allow-same-origin allow-scripts allow-top-navigation allow-popups allow-forms allow-presentation allow-popups-to-escape-sandbox"),e.setAttribute("aria-hidden","false"),e.style.border="0",e.style.outline="0",e.style.width="100%",e.style.height="100%";for(const[n,r]of Object.entries(t))e[n]=r;return e}function pe(t){const e=document.createElement("strong");return e.className="Frill_Notification__Badge",e.innerText=t.label,e.style.color=t.color,e}function de(t={}){const e=document.createElement("button");e.type="button",e.className="Frill_Notification__Close",e.innerHTML='<svg fill="none" viewBox="0 0 9 9" xmlns="http://www.w3.org/2000/svg"><g opacity=".5" stroke="#73737d" stroke-linecap="round" stroke-width="2"><path d="m8 1-7 7"/><path d="m8 8-7-7"/></g></svg>';for(const[n,r]of Object.entries(t))e[n]=r;return e}function he(t,e,n){var r;const o=document.createElement("button");o.type="button",o.innerText=e.button.label||(null==(r=t.company.language)?void 0:r["announcement-view"])||"View Announcement",o.className="Frill_Notification__Button",o.style.backgroundColor=e.button.backgroundColor||"#1675f0";const i=e.button.backgroundColor?e.button.color:"light";return o.style.color="light"===i?"#fff":"#000",o.addEventListener("click",(r=>{r.stopPropagation(),"widget"===e.button.action&&(t.viewAnnouncement(e.announcementSlug),t.open()),n()})),o}function fe(t){const{navigation:e,sections:n}=t;switch(e.startPage||n.order.find((t=>{const e=n[t];return e.active&&"embed"===e.display}))){case"announcements":return B;case"ideas":return G;case"roadmap":return $;case"create-idea":return q}}function ye(t){return K(W,{announcementSlug:t})}const me={announcement:'<svg fill="none" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="m0 15.9137c0 3.3365 1.66818 5.3068 4.81596 5.6807l3.13327 6.8744c.76881 1.6971 1.84225 2.5312 3.45237 2.5312 2.0454 0 3.5105-1.4525 3.0608-3.8111l-1.0009-5.1486c3.9311.7334 7.9202 2.1141 11.5176 4.1994.4207 1.4957 1.6972 2.4449 3.4379 2.4449 2.1469 0 3.583-1.4382 3.583-3.5523v-20.58005c0-2.11409-1.4361-3.55225-3.583-3.55225-1.7842 0-3.0897.99233-3.4669 2.55992-4.2212 2.48802-9.6174 4.08438-13.8966 4.54459h-5.03355c-3.9166 0-6.01995 2.01339-6.01995 5.75259zm27.184 9.2186v-20.58005c0-.73346.4932-1.23681 1.233-1.23681.7544 0 1.2476.50335 1.2476 1.23681v20.58005c0 .7335-.4932 1.2368-1.2476 1.2368-.7398 0-1.233-.5033-1.233-1.2368zm-15.8259-5.7239v-9.046c4.8595-.57525 9.4869-1.92712 13.476-4.18503v17.41613c-4.0762-2.3011-8.66-3.6242-13.476-4.1851zm-5.33815-.0575c-2.59656 0-3.67-.9923-3.67-3.4372v-2.0566c0-2.4304 1.07344-3.4372 3.67-3.4372h2.98821v8.931zm4.10515 8.4708-2.90117-6.1554h3.74257c.0725.0144.145.0288.2175.0288l1.1605 5.8102c.1596.8053-.3046 1.3087-.9864 1.3087-.6092 0-.9139-.302-1.233-.9923z" fill="currentColor"/></svg>',roadmap:'<svg fill="none" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="m2.73252 29.4429c.41034 0 .79028-.1393 1.2918-.4333l7.20368-3.9461 7.8419 4.4723c.5623.3094 1.1398.4642 1.7021.4642.532 0 1.0639-.1393 1.535-.4178l7.386-4.2711c.8967-.5107 1.307-1.238 1.307-2.2748v-19.68411c0-1.14515-.6383-1.79509-1.7325-1.79509-.3952 0-.7903.13927-1.2918.43329l-7.5076 4.24013-7.7052-4.79722c-.4711-.29403-1.0182-.4333-1.5501-.4333-.5471 0-1.0943.13927-1.56538.4333l-7.34043 4.2556c-.89666.51067-1.30699 1.23799-1.30699 2.25934v19.69956c0 1.1452.6383 1.7951 1.73252 1.7951zm7.44678-6.809-6.29176 3.5128c-.09119.0465-.16718.0774-.22797.0774-.13677 0-.21276-.0928-.21276-.2631v-17.36281c0-.3714.13678-.63448.48632-.85113l5.74468-3.40448c.18237-.09285.33439-.1857.50149-.27855zm2.462.1857v-18.43059c.1368.07737.304.17022.4408.26307l6.2918 3.88421v18.12111c-.1976-.1083-.4104-.2166-.6231-.325zm9.1794 4.0854v-18.55441l6.307-3.49734c.0759-.04642.1519-.07737.2127-.07737.1368 0 .2128.10832.2128.26307v17.34735c0 .3714-.1368.6345-.4863.8512l-5.5775 3.2961c-.228.1393-.4408.2631-.6687.3714z" fill="currentColor"/></svg>',bolt:'<svg fill="none" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="m6.98592 18.5024h7.60558l-4.014 10.8001c-.5212 1.4026.9155 2.132 1.845.9959l12.2254-15.1623c.2394-.2946.3521-.5611.3521-.8696 0-.519-.3944-.9117-.9718-.9117h-7.6057l4.0141-10.80017c.5211-1.40262-.9296-2.131982-1.8451-.99586l-12.2253 15.16233c-.23944.2945-.3662.561-.3662.8696 0 .5189.40845.9117.98592.9117z" fill="currentColor"/></svg>',idea:'<svg fill="none" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg"><path d="m12.2169 8.47608c.1851 0 .2777-.10616.3085-.28815.4936-2.3203.4628-2.39613 2.9463-2.88142.1697-.03033.2931-.13649.2931-.31847 0-.16682-.1234-.27298-.2931-.30331-2.4835-.50046-2.4527-.57628-2.9463-2.89659-.0308-.16682-.1234-.28814-.3085-.28814s-.2931.12132-.3239.28814c-.4936 2.33547-.4473 2.4113-2.93084 2.89659-.16968.03033-.29308.13649-.29308.30331 0 .18198.10797.28814.29308.31847 2.48354.50046 2.45264.57629 2.93084 2.89659.0308.16682.1388.27298.3239.27298zm12.2015 5.08042c.216 0 .3394-.1365.3702-.3488.5245-2.7298.5245-2.8966 3.4707-3.39707.216-.03033.3548-.16682.3548-.37914 0-.21231-.1388-.33363-.3548-.37913-2.9462-.50046-2.9771-.66728-3.4707-3.39705-.0308-.19715-.1542-.3488-.3702-.3488-.2159 0-.3548.15165-.3856.3488-.4936 2.74494-.5091 2.91176-3.4553 3.39705-.216.03033-.3548.16682-.3548.37913 0 .21232.1388.34881.3548.37914 2.9462.50047 2.9617.66727 3.4553 3.41217.0308.1972.1697.3337.3856.3337zm-20.22269 4.1856c.21596 0 .35478-.1516.38564-.3488.49361-2.7449.52446-2.9117 3.47071-3.4122.20053-.0303.35479-.1668.35479-.3791s-.15426-.3337-.35479-.364c-2.96168-.5156-2.9771-.6673-3.47071-3.41221-.03086-.19715-.16968-.3488-.38564-.3488-.20053 0-.33936.15165-.37021.3488-.49361 2.74491-.50904 2.91171-3.470716 3.41221-.20053.0303-.354784.1517-.354784.364s.154254.3488.354784.3791c2.961676.5156 2.961676.6673 3.470716 3.4122.03085.1972.16968.3488.37021.3488zm24.94289 12.2688c.6479.6521 1.7585.6521 2.3755 0 .6479-.6673.6479-1.6833 0-2.3355l-13.8674-13.6791c-.6325-.6521-1.7585-.6521-2.3756 0-.6478.6673-.6324 1.6985 0 2.3354zm-17.9706.2882c.2777 0 .4782-.1972.509-.5005.4782-3.8368.6633-3.943 4.6431-4.5648.3393-.0606.5244-.2275.5244-.5156 0-.273-.1851-.455-.4627-.5156-4.0106-.7431-4.2266-.728-4.7048-4.5648-.0308-.3033-.2313-.5005-.509-.5005s-.4782.1972-.5245.4853c-.4936 3.8975-.64784 4.034-4.68929 4.58-.27766.0455-.47819.2426-.47819.5156s.20053.455.46276.5156c4.05688.7583 4.19572.7583 4.70472 4.5951.0463.273.2468.4702.5245.4702zm18.5568-1.3346-8.7463-8.5988.7559-.7431 8.7462 8.614c.2777.2729.3394.5611.0926.8492-.2623.2275-.5708.1668-.8484-.1213z" fill="currentColor"/></svg>',intercom:'<svg viewBox="0 0 28 32"><path fill="currentColor" d="M28,32 C28,32 23.2863266,30.1450667 19.4727818,28.6592 L3.43749107,28.6592 C1.53921989,28.6592 0,27.0272 0,25.0144 L0,3.6448 C0,1.632 1.53921989,0 3.43749107,0 L24.5615088,0 C26.45978,0 27.9989999,1.632 27.9989999,3.6448 L27.9989999,22.0490667 L28,22.0490667 L28,32 Z M23.8614088,20.0181333 C23.5309223,19.6105242 22.9540812,19.5633836 22.5692242,19.9125333 C22.5392199,19.9392 19.5537934,22.5941333 13.9989999,22.5941333 C8.51321617,22.5941333 5.48178311,19.9584 5.4277754,19.9104 C5.04295119,19.5629428 4.46760991,19.6105095 4.13759108,20.0170667 C3.97913051,20.2124916 3.9004494,20.4673395 3.91904357,20.7249415 C3.93763774,20.9825435 4.05196575,21.2215447 4.23660523,21.3888 C4.37862552,21.5168 7.77411059,24.5386667 13.9989999,24.5386667 C20.2248893,24.5386667 23.6203743,21.5168 23.7623946,21.3888 C23.9467342,21.2215726 24.0608642,20.9827905 24.0794539,20.7254507 C24.0980436,20.4681109 24.0195551,20.2135019 23.8614088,20.0181333 Z"></path></svg>'};class ge{constructor(t,e){this.widget=t,this.options=e,this.type="floating",this.classNames={default:"Frill_Trigger_Floating"}}setup(){const{backgroundColor:t=u,color:e="light",icon:n="bolt",position:r="bottom-right"}=this.options;this.element=document.createElement("button"),this.element.type="button",this.element.classList.add(U,this.classNames.default,`${this.classNames.default}--${r}`),this.element.style.color="dark"===e?"#202020":"#fff",this.element.style.backgroundColor=t||u,this.element.innerHTML=n in me?me[n]:"",this.element.setAttribute("aria-label",V),this.widget.container.appendChild(this.element),this.element.addEventListener("click",this.widget.toggle),this.element.addEventListener("mouseenter",this.widget.onMouseEnter)}addBadge(t){this.element.appendChild(t)}destroy(){var t;this.element&&(this.element.removeEventListener("click",this.widget.toggle),this.element.removeEventListener("mouseenter",this.widget.onMouseEnter),null==(t=this.element.parentNode)||t.removeChild(this.element))}update(){if(!this.element)return;const{isOpen:t,unreadCount:e}=this.widget.ui;e?this.element.classList.add(L):this.element.classList.remove(L),this.element.setAttribute("aria-label",t?H:V)}}class ve{constructor(){this.css="",this.type="null"}get element(){return null}setup(){}addBadge(t){}destroy(){}update(){}}class we{constructor(t,e){this.widget=t,this.options=e,this.type="selector",this.classNames={default:"Frill_Trigger_Selector"}}setup(){const{selector:t}=this.options;if(!t)throw new ae('Missing required "CSS Selector".');if(this.element="string"==typeof t?document.querySelector(t):t,!this.element)throw new ae(`Could not find a element using the selector "${t}".`);this.element.addEventListener("click",this.widget.toggle),this.element.addEventListener("mouseenter",this.widget.onMouseEnter),this.element.classList.add(U,this.classNames.default)}addBadge(t){this.element&&this.element.appendChild(t)}destroy(){this.element&&(this.widget.badge&&this.element.removeChild(this.widget.badge),this.element.removeEventListener("click",this.widget.toggle),this.element.removeEventListener("mouseenter",this.widget.onMouseEnter))}update(){if(!this.element)return;const{unreadCount:t}=this.widget.ui;t?this.element.classList.add(L):this.element.classList.remove(L)}}class be{constructor(t,e){this.widget=t,this.options=e,this.type="tab",this.classNames={default:"Frill_Trigger_Tab"}}setup(){const{color:t="light",text:e,backgroundColor:n,position:r="center-right"}=this.options;this.element=document.createElement("button"),this.element.type="button",this.element.classList.add(U,this.classNames.default,`${this.classNames.default}--${r}`),this.element.style.color="light"===t?"#fff":"#202020",this.element.style.backgroundColor=n||u,this.element.innerText=e||"What's new",this.element.setAttribute("aria-label",V),this.widget.container.appendChild(this.element),this.element.addEventListener("click",this.widget.toggle),this.element.addEventListener("mouseenter",this.widget.onMouseEnter)}addBadge(t){this.element.appendChild(t)}destroy(){var t;this.element&&(this.element.removeEventListener("click",this.widget.toggle),this.element.removeEventListener("mouseenter",this.widget.onMouseEnter),null==(t=this.element.parentNode)||t.removeChild(this.element))}update(){if(!this.element)return;const{isOpen:t,unreadCount:e}=this.widget.ui;e?this.element.classList.add(L):this.element.classList.remove(L),this.element.setAttribute("aria-label",t?H:V)}}class _e{constructor(t,e){this.widget=t,this.options=e,this.type="modal",this.classNames={default:"Frill_Notification_Banner",loading:"Frill_Notification_Banner--loading",open:"Frill_Notification_Banner--open",enter:"Frill_Notification_Banner--enter",content:"Frill_Notification_Banner__Content",top:"Frill_Notification_Banner--top",bottom:"Frill_Notification_Banner--bottom"},this.destroy=()=>{var t;this.widget.notification=void 0,this.element&&(null==(t=this.element.parentNode)||t.removeChild(this.element),this.widget.call("onNotificationClose"))},this.open=()=>{this.element&&(this.element.classList.add(this.classNames.open,this.classNames.enter),setTimeout((()=>{var t;null==(t=this.element)||t.classList.remove(this.classNames.enter)}),30))},this.close=()=>{this.element.classList.remove(this.classNames.open),setTimeout((()=>{this.destroy()}),300)}}setup(){var t;const{title:e,position:n}=this.options,{settings:r,company:o}=this.widget,i=r.appearance.theme.idx||(null==(t=o.theme)?void 0:t.idx)||"light";if(this.element=document.createElement("div"),this.element.classList.add(N,this.classNames.default,this.classNames[n||"top"],`${N}--${i}`),this.content=document.createElement("div"),this.content.classList.add(this.classNames.content),this.options.badge){const t=pe(this.options.badge);this.content.appendChild(t)}const a=document.createElement("h2");if(a.innerText=e,this.content.appendChild(a),this.options.button){const t=he(this.widget,this.options,this.close);this.content.appendChild(t)}const s=de();s.addEventListener("click",this.close),this.content.appendChild(s),this.element.appendChild(this.content),this.widget.container.appendChild(this.element),this.open()}}const Ae=new Set;let Ee=0,Pe=0,Se=0;function xe(){const t=Ee++;return{on:function(){Ae.has(t)||(0===Ae.size&&function(){if("undefined"==typeof document)return;const t=document.documentElement;Se=window.pageYOffset,t.style.width=document.documentElement.scrollHeight>window.innerHeight?`calc(100% - ${function(){if("number"==typeof Pe)return Pe;const t=document.documentElement,e=document.createElement("div");return e.setAttribute("style","width:99px;height:99px;position:absolute;top:-9999px;overflow:scroll;"),t.appendChild(e),Pe=e.offsetWidth-e.clientWidth,t.removeChild(e),Pe}()}px)`:"100%",t.style.position="fixed",t.style.top=-Se+"px",t.style.overflow="hidden"}(),Ae.add(t))},off:function(){Ae.has(t)&&(Ae.delete(t),0===Ae.size&&function(){if("undefined"==typeof document)return;const t=document.documentElement;t.style.width="",t.style.position="",t.style.top="",t.style.overflow="",window.scroll(0,Se),window.dispatchEvent(new CustomEvent("scroll"))}())}}}class Oe{constructor(t,e){this.widget=t,this.options=e,this.type="modal",this.classNames={default:"Frill_Notification_Modal",loading:"Frill_Notification_Modal--loading",open:"Frill_Notification_Modal--open",enter:"Frill_Notification_Modal--enter",content:"Frill_Notification_Modal__Content",shadow:"Frill_Notification_Modal__Shadow"},this.lock=xe(),this.onWidowClick=t=>{t.__frillHandled||this.element&&!this.content.contains(t.target)&&this.close()},this.onConfigRequest=t=>{return e=this,n=null,r=function*(){const e=this.options.__cache||(yield this.widget.ipc.request({type:"cache-request"})),n={type:"settings-response",payload:{href:window.location.href,board:this.widget.board,company:this.widget.company,isMobile:this.widget.ui.isMobile,settings:this.widget.settings,storage:this.widget.store.all(),widget:this.widget.widget,cache:e},requestId:t.id};this.ipc.send(n)},new Promise(((t,o)=>{var i=t=>{try{s(r.next(t))}catch(t){o(t)}},a=t=>{try{s(r.throw(t))}catch(t){o(t)}},s=e=>e.done?t(e.value):Promise.resolve(e.value).then(i,a);s((r=r.apply(e,n)).next())}));var e,n,r},this.onIPCReady=t=>{this.ipc.ready()},this.onAppReady=t=>{this.ipc.flush(),this.open()},this.ipc=new oe(this.widget.config.key)}setup(){const{announcementSlug:t}=this.options;this.element=document.createElement("div"),this.element.classList.add(N,this.classNames.default);const{key:e,frillToken:n,ssoToken:r}=this.widget.config,o=ue({id:`${R}_${e}_notification`,src:`${O}/?${Q({key:e,frillToken:n,ssoToken:r,notification:"1",route:ye(t)})}`});this.ipc.frame=o,this.ipc.listen("settings-request",this.onConfigRequest),this.ipc.listen("app-ready",this.onAppReady),this.ipc.listen("ipc-ready",this.onIPCReady),this.content=document.createElement("div"),this.content.classList.add(this.classNames.content),this.content.style.width="640px",this.content.style.height="500px",this.content.appendChild(o),this.shadow=document.createElement("div"),this.shadow.classList.add(this.classNames.shadow),this.element.appendChild(this.content),this.element.appendChild(this.shadow),this.widget.container.appendChild(this.element)}destroy(){var t;this.lock.off(),this.ipc.destroy(),this.widget.notification=void 0,this.element&&(null==(t=this.element.parentNode)||t.removeChild(this.element))}open(){this.element&&(this.lock.on(),this.shadow.addEventListener("click",this.onWidowClick),this.element.classList.add(this.classNames.open,this.classNames.enter),setTimeout((()=>{var t;null==(t=this.element)||t.classList.remove(this.classNames.enter)}),30))}close(){this.element.classList.remove(this.classNames.open),this.shadow.removeEventListener("click",this.onWidowClick),this.lock.off(),setTimeout((()=>{this.destroy(),this.widget.call("onNotificationClose")}),300)}}class Ce{constructor(t,e){this.widget=t,this.options=e,this.type="modal",this.classNames={default:"Frill_Notification_Snippet",loading:"Frill_Notification_Snippet--loading",open:"Frill_Notification_Snippet--open",enter:"Frill_Notification_Snippet--enter",content:"Frill_Notification_Snippet__Content"},this.destroy=()=>{var t;this.widget.notification=void 0,this.element&&(null==(t=this.element.parentNode)||t.removeChild(this.element),this.widget.call("onNotificationClose"))},this.open=()=>{this.element&&(this.element.classList.add(this.classNames.open,this.classNames.enter),setTimeout((()=>{var t;null==(t=this.element)||t.classList.remove(this.classNames.enter)}),30))},this.close=()=>{this.element.classList.remove(this.classNames.open),setTimeout((()=>{this.destroy()}),300)}}setup(){var t;const{title:e="",content:n=""}=this.options,{settings:r,company:o}=this.widget,i=r.appearance.theme.idx||(null==(t=o.theme)?void 0:t.idx)||"light";if(this.element=document.createElement("div"),this.element.classList.add(N,this.classNames.default,`${N}--${i}`),this.content=document.createElement("div"),this.content.classList.add(this.classNames.content),this.options.badge){const t=pe(this.options.badge);this.content.appendChild(t)}const a=document.createElement("h2");a.innerText=e,this.content.appendChild(a);const s=document.createElement("p");if(s.innerText=n,this.content.appendChild(s),this.options.button){const t=he(this.widget,this.options,this.close);this.content.appendChild(t)}const l=de();l.addEventListener("click",this.close),this.content.appendChild(l),this.element.appendChild(this.content),this.widget.container.appendChild(this.element),this.open()}}const Te=Math.min,Ie=Math.max,ke=Math.round,Me=Math.floor,Fe=t=>({x:t,y:t}),Re={left:"right",right:"left",bottom:"top",top:"bottom"},je={start:"end",end:"start"};function Ne(t,e,n){return Ie(t,Te(e,n))}function Ue(t,e){return"function"==typeof t?t(e):t}function Le(t){return t.split("-")[0]}function De(t){return t.split("-")[1]}function Be(t){return"x"===t?"y":"x"}function We(t){return"y"===t?"height":"width"}function $e(t){return["top","bottom"].includes(Le(t))?"y":"x"}function Ge(t){return Be($e(t))}function qe(t){return t.replace(/start|end/g,(t=>je[t]))}function Ve(t){return t.replace(/left|right|bottom|top/g,(t=>Re[t]))}function He(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function ze(t,e,n){let{reference:r,floating:o}=t;const i=$e(e),a=Ge(e),s=We(a),l=Le(e),c="y"===i,u=r.x+r.width/2-o.width/2,p=r.y+r.height/2-o.height/2,d=r[s]/2-o[s]/2;let h;switch(l){case"top":h={x:u,y:r.y-o.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:p};break;case"left":h={x:r.x-o.width,y:p};break;default:h={x:r.x,y:r.y}}switch(De(e)){case"start":h[a]-=d*(n&&c?-1:1);break;case"end":h[a]+=d*(n&&c?-1:1)}return h}async function Ye(t,e){var n;void 0===e&&(e={});const{x:r,y:o,platform:i,rects:a,elements:s,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:p="floating",altBoundary:d=!1,padding:h=0}=Ue(e,t),f=function(t){return"number"!=typeof t?function(t){return{top:0,right:0,bottom:0,left:0,...t}}(t):{top:t,right:t,bottom:t,left:t}}(h),y=s[d?"floating"===p?"reference":"floating":p],m=He(await i.getClippingRect({element:null==(n=await(null==i.isElement?void 0:i.isElement(y)))||n?y:y.contextElement||await(null==i.getDocumentElement?void 0:i.getDocumentElement(s.floating)),boundary:c,rootBoundary:u,strategy:l})),g="floating"===p?{...a.floating,x:r,y:o}:a.reference,v=await(null==i.getOffsetParent?void 0:i.getOffsetParent(s.floating)),w=await(null==i.isElement?void 0:i.isElement(v))&&await(null==i.getScale?void 0:i.getScale(v))||{x:1,y:1},b=He(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({rect:g,offsetParent:v,strategy:l}):g);return{top:(m.top-b.top+f.top)/w.y,bottom:(b.bottom-m.bottom+f.bottom)/w.y,left:(m.left-b.left+f.left)/w.x,right:(b.right-m.right+f.right)/w.x}}const Je=function(t){return void 0===t&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:o,middlewareData:i,rects:a,initialPlacement:s,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:p=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:f="none",flipAlignment:y=!0,...m}=Ue(t,e);if(null!=(n=i.arrow)&&n.alignmentOffset)return{};const g=Le(o),v=Le(s)===s,w=await(null==l.isRTL?void 0:l.isRTL(c.floating)),b=d||(v||!y?[Ve(s)]:function(t){const e=Ve(t);return[qe(t),e,qe(e)]}(s));d||"none"===f||b.push(...function(t,e,n,r){const o=De(t);let i=function(t,e,n){const r=["left","right"],o=["right","left"],i=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return n?e?o:r:e?r:o;case"left":case"right":return e?i:a;default:return[]}}(Le(t),"start"===n,r);return o&&(i=i.map((t=>t+"-"+o)),e&&(i=i.concat(i.map(qe)))),i}(s,y,f,w));const _=[s,...b],A=await Ye(e,m),E=[];let P=(null==(r=i.flip)?void 0:r.overflows)||[];if(u&&E.push(A[g]),p){const t=function(t,e,n){void 0===n&&(n=!1);const r=De(t),o=Ge(t),i=We(o);let a="x"===o?r===(n?"end":"start")?"right":"left":"start"===r?"bottom":"top";return e.reference[i]>e.floating[i]&&(a=Ve(a)),[a,Ve(a)]}(o,a,w);E.push(A[t[0]],A[t[1]])}if(P=[...P,{placement:o,overflows:E}],!E.every((t=>t<=0))){var S,x;const t=((null==(S=i.flip)?void 0:S.index)||0)+1,e=_[t];if(e)return{data:{index:t,overflows:P},reset:{placement:e}};let n=null==(x=P.filter((t=>t.overflows[0]<=0)).sort(((t,e)=>t.overflows[1]-e.overflows[1]))[0])?void 0:x.placement;if(!n)switch(h){case"bestFit":{var O;const t=null==(O=P.map((t=>[t.placement,t.overflows.filter((t=>t>0)).reduce(((t,e)=>t+e),0)])).sort(((t,e)=>t[1]-e[1]))[0])?void 0:O[0];t&&(n=t);break}case"initialPlacement":n=s}if(o!==n)return{reset:{placement:n}}}return{}}}};const Xe=function(t){return void 0===t&&(t=0),{name:"offset",options:t,async fn(e){const{x:n,y:r}=e,o=await async function(t,e){const{placement:n,platform:r,elements:o}=t,i=await(null==r.isRTL?void 0:r.isRTL(o.floating)),a=Le(n),s=De(n),l="y"===$e(n),c=["left","top"].includes(a)?-1:1,u=i&&l?-1:1,p=Ue(e,t);let{mainAxis:d,crossAxis:h,alignmentAxis:f}="number"==typeof p?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...p};return s&&"number"==typeof f&&(h="end"===s?-1*f:f),l?{x:h*u,y:d*c}:{x:d*c,y:h*u}}(e,t);return{x:n+o.x,y:r+o.y,data:o}}}};function Qe(t){return tn(t)?(t.nodeName||"").toLowerCase():"#document"}function Ke(t){var e;return(null==t||null==(e=t.ownerDocument)?void 0:e.defaultView)||window}function Ze(t){var e;return null==(e=(tn(t)?t.ownerDocument:t.document)||window.document)?void 0:e.documentElement}function tn(t){return t instanceof Node||t instanceof Ke(t).Node}function en(t){return t instanceof Element||t instanceof Ke(t).Element}function nn(t){return t instanceof HTMLElement||t instanceof Ke(t).HTMLElement}function rn(t){return"undefined"!=typeof ShadowRoot&&(t instanceof ShadowRoot||t instanceof Ke(t).ShadowRoot)}function on(t){const{overflow:e,overflowX:n,overflowY:r,display:o}=un(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(o)}function an(t){return["table","td","th"].includes(Qe(t))}function sn(t){const e=ln(),n=un(t);return"none"!==n.transform||"none"!==n.perspective||!!n.containerType&&"normal"!==n.containerType||!e&&!!n.backdropFilter&&"none"!==n.backdropFilter||!e&&!!n.filter&&"none"!==n.filter||["transform","perspective","filter"].some((t=>(n.willChange||"").includes(t)))||["paint","layout","strict","content"].some((t=>(n.contain||"").includes(t)))}function ln(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function cn(t){return["html","body","#document"].includes(Qe(t))}function un(t){return Ke(t).getComputedStyle(t)}function pn(t){return en(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function dn(t){if("html"===Qe(t))return t;const e=t.assignedSlot||t.parentNode||rn(t)&&t.host||Ze(t);return rn(e)?e.host:e}function hn(t){const e=dn(t);return cn(e)?t.ownerDocument?t.ownerDocument.body:t.body:nn(e)&&on(e)?e:hn(e)}function fn(t,e,n){var r;void 0===e&&(e=[]),void 0===n&&(n=!0);const o=hn(t),i=o===(null==(r=t.ownerDocument)?void 0:r.body),a=Ke(o);return i?e.concat(a,a.visualViewport||[],on(o)?o:[],a.frameElement&&n?fn(a.frameElement):[]):e.concat(o,fn(o,[],n))}function yn(t){const e=un(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const o=nn(t),i=o?t.offsetWidth:n,a=o?t.offsetHeight:r,s=ke(n)!==i||ke(r)!==a;return s&&(n=i,r=a),{width:n,height:r,$:s}}function mn(t){return en(t)?t:t.contextElement}function gn(t){const e=mn(t);if(!nn(e))return Fe(1);const n=e.getBoundingClientRect(),{width:r,height:o,$:i}=yn(e);let a=(i?ke(n.width):n.width)/r,s=(i?ke(n.height):n.height)/o;return a&&Number.isFinite(a)||(a=1),s&&Number.isFinite(s)||(s=1),{x:a,y:s}}const vn=Fe(0);function wn(t){const e=Ke(t);return ln()&&e.visualViewport?{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}:vn}function bn(t,e,n,r){void 0===e&&(e=!1),void 0===n&&(n=!1);const o=t.getBoundingClientRect(),i=mn(t);let a=Fe(1);e&&(r?en(r)&&(a=gn(r)):a=gn(t));const s=function(t,e,n){return void 0===e&&(e=!1),!(!n||e&&n!==Ke(t))&&e}(i,n,r)?wn(i):Fe(0);let l=(o.left+s.x)/a.x,c=(o.top+s.y)/a.y,u=o.width/a.x,p=o.height/a.y;if(i){const t=Ke(i),e=r&&en(r)?Ke(r):r;let n=t.frameElement;for(;n&&r&&e!==t;){const t=gn(n),e=n.getBoundingClientRect(),r=un(n),o=e.left+(n.clientLeft+parseFloat(r.paddingLeft))*t.x,i=e.top+(n.clientTop+parseFloat(r.paddingTop))*t.y;l*=t.x,c*=t.y,u*=t.x,p*=t.y,l+=o,c+=i,n=Ke(n).frameElement}}return He({width:u,height:p,x:l,y:c})}function _n(t){return bn(Ze(t)).left+pn(t).scrollLeft}function An(t,e,n){let r;if("viewport"===e)r=function(t,e){const n=Ke(t),r=Ze(t),o=n.visualViewport;let i=r.clientWidth,a=r.clientHeight,s=0,l=0;if(o){i=o.width,a=o.height;const t=ln();(!t||t&&"fixed"===e)&&(s=o.offsetLeft,l=o.offsetTop)}return{width:i,height:a,x:s,y:l}}(t,n);else if("document"===e)r=function(t){const e=Ze(t),n=pn(t),r=t.ownerDocument.body,o=Ie(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=Ie(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+_n(t);const s=-n.scrollTop;return"rtl"===un(r).direction&&(a+=Ie(e.clientWidth,r.clientWidth)-o),{width:o,height:i,x:a,y:s}}(Ze(t));else if(en(e))r=function(t,e){const n=bn(t,!0,"fixed"===e),r=n.top+t.clientTop,o=n.left+t.clientLeft,i=nn(t)?gn(t):Fe(1);return{width:t.clientWidth*i.x,height:t.clientHeight*i.y,x:o*i.x,y:r*i.y}}(e,n);else{const n=wn(t);r={...e,x:e.x-n.x,y:e.y-n.y}}return He(r)}function En(t,e){const n=dn(t);return!(n===e||!en(n)||cn(n))&&("fixed"===un(n).position||En(n,e))}function Pn(t,e,n){const r=nn(e),o=Ze(e),i="fixed"===n,a=bn(t,!0,i,e);let s={scrollLeft:0,scrollTop:0};const l=Fe(0);if(r||!r&&!i)if(("body"!==Qe(e)||on(o))&&(s=pn(e)),r){const t=bn(e,!0,i,e);l.x=t.x+e.clientLeft,l.y=t.y+e.clientTop}else o&&(l.x=_n(o));return{x:a.left+s.scrollLeft-l.x,y:a.top+s.scrollTop-l.y,width:a.width,height:a.height}}function Sn(t,e){return nn(t)&&"fixed"!==un(t).position?e?e(t):t.offsetParent:null}function xn(t,e){const n=Ke(t);if(!nn(t))return n;let r=Sn(t,e);for(;r&&an(r)&&"static"===un(r).position;)r=Sn(r,e);return r&&("html"===Qe(r)||"body"===Qe(r)&&"static"===un(r).position&&!sn(r))?n:r||function(t){let e=dn(t);for(;nn(e)&&!cn(e);){if(sn(e))return e;e=dn(e)}return null}(t)||n}const On={convertOffsetParentRelativeRectToViewportRelativeRect:function(t){let{rect:e,offsetParent:n,strategy:r}=t;const o=nn(n),i=Ze(n);if(n===i)return e;let a={scrollLeft:0,scrollTop:0},s=Fe(1);const l=Fe(0);if((o||!o&&"fixed"!==r)&&(("body"!==Qe(n)||on(i))&&(a=pn(n)),nn(n))){const t=bn(n);s=gn(n),l.x=t.x+n.clientLeft,l.y=t.y+n.clientTop}return{width:e.width*s.x,height:e.height*s.y,x:e.x*s.x-a.scrollLeft*s.x+l.x,y:e.y*s.y-a.scrollTop*s.y+l.y}},getDocumentElement:Ze,getClippingRect:function(t){let{element:e,boundary:n,rootBoundary:r,strategy:o}=t;const i=[..."clippingAncestors"===n?function(t,e){const n=e.get(t);if(n)return n;let r=fn(t,[],!1).filter((t=>en(t)&&"body"!==Qe(t))),o=null;const i="fixed"===un(t).position;let a=i?dn(t):t;for(;en(a)&&!cn(a);){const e=un(a),n=sn(a);n||"fixed"!==e.position||(o=null),(i?!n&&!o:!n&&"static"===e.position&&o&&["absolute","fixed"].includes(o.position)||on(a)&&!n&&En(t,a))?r=r.filter((t=>t!==a)):o=e,a=dn(a)}return e.set(t,r),r}(e,this._c):[].concat(n),r],a=i[0],s=i.reduce(((t,n)=>{const r=An(e,n,o);return t.top=Ie(r.top,t.top),t.right=Te(r.right,t.right),t.bottom=Te(r.bottom,t.bottom),t.left=Ie(r.left,t.left),t}),An(e,a,o));return{width:s.right-s.left,height:s.bottom-s.top,x:s.left,y:s.top}},getOffsetParent:xn,getElementRects:async function(t){let{reference:e,floating:n,strategy:r}=t;const o=this.getOffsetParent||xn,i=this.getDimensions;return{reference:Pn(e,await o(n),r),floating:{x:0,y:0,...await i(n)}}},getClientRects:function(t){return Array.from(t.getClientRects())},getDimensions:function(t){return yn(t)},getScale:gn,isElement:en,isRTL:function(t){return"rtl"===un(t).direction}};function Cn(t,e,n,r){void 0===r&&(r={});const{ancestorScroll:o=!0,ancestorResize:i=!0,elementResize:a="function"==typeof ResizeObserver,layoutShift:s="function"==typeof IntersectionObserver,animationFrame:l=!1}=r,c=mn(t),u=o||i?[...c?fn(c):[],...fn(e)]:[];u.forEach((t=>{o&&t.addEventListener("scroll",n,{passive:!0}),i&&t.addEventListener("resize",n)}));const p=c&&s?function(t,e){let n,r=null;const o=Ze(t);function i(){clearTimeout(n),r&&r.disconnect(),r=null}return function a(s,l){void 0===s&&(s=!1),void 0===l&&(l=1),i();const{left:c,top:u,width:p,height:d}=t.getBoundingClientRect();if(s||e(),!p||!d)return;const h={rootMargin:-Me(u)+"px "+-Me(o.clientWidth-(c+p))+"px "+-Me(o.clientHeight-(u+d))+"px "+-Me(c)+"px",threshold:Ie(0,Te(1,l))||1};let f=!0;function y(t){const e=t[0].intersectionRatio;if(e!==l){if(!f)return a();e?a(!1,e):n=setTimeout((()=>{a(!1,1e-7)}),100)}f=!1}try{r=new IntersectionObserver(y,{...h,root:o.ownerDocument})}catch(t){r=new IntersectionObserver(y,h)}r.observe(t)}(!0),i}(c,n):null;let d,h=-1,f=null;a&&(f=new ResizeObserver((t=>{let[r]=t;r&&r.target===c&&f&&(f.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame((()=>{f&&f.observe(e)}))),n()})),c&&!l&&f.observe(c),f.observe(e));let y=l?bn(t):null;return l&&function e(){const r=bn(t);!y||r.x===y.x&&r.y===y.y&&r.width===y.width&&r.height===y.height||n();y=r,d=requestAnimationFrame(e)}(),n(),()=>{u.forEach((t=>{o&&t.removeEventListener("scroll",n),i&&t.removeEventListener("resize",n)})),p&&p(),f&&f.disconnect(),f=null,l&&cancelAnimationFrame(d)}}const Tn=(t,e,n)=>{const r=new Map,o={platform:On,...n},i={...o.platform,_c:r};return(async(t,e,n)=>{const{placement:r="bottom",strategy:o="absolute",middleware:i=[],platform:a}=n,s=i.filter(Boolean),l=await(null==a.isRTL?void 0:a.isRTL(e));let c=await a.getElementRects({reference:t,floating:e,strategy:o}),{x:u,y:p}=ze(c,r,l),d=r,h={},f=0;for(let n=0;n<s.length;n++){const{name:i,fn:y}=s[n],{x:m,y:g,data:v,reset:w}=await y({x:u,y:p,initialPlacement:r,placement:d,strategy:o,middlewareData:h,rects:c,platform:a,elements:{reference:t,floating:e}});u=null!=m?m:u,p=null!=g?g:p,h={...h,[i]:{...h[i],...v}},w&&f<=50&&(f++,"object"==typeof w&&(w.placement&&(d=w.placement),w.rects&&(c=!0===w.rects?await a.getElementRects({reference:t,floating:e,strategy:o}):w.rects),({x:u,y:p}=ze(c,d,l))),n=-1)}return{x:u,y:p,placement:d,strategy:o,middlewareData:h}})(t,e,{...o,platform:i})};function In(t,e){const{launcher:n}=e.settings;if("tab"===n.type){const e=t.includes("top"),r=t.includes("bottom");if(e||r)return"center-left"===n.position?["right"]:["left"]}}class kn{constructor(t,e){this.widget=t,this.options=e,this.type="popover",this.classNames={default:"Frill_View_Popover",loading:"Frill_View_Popover--loading",open:"Frill_View_Popover--open",enter:"Frill_View_Popover--enter",mobile:"Frill_View_Popover--mobile"},this.onContainerClick=t=>{t.__frillHandled||this.element&&!this.element.contains(t.target)&&this.widget.close()}}setup(){const{frame:t,launcher:e}=this.widget,{offsetSkidding:n=0,offsetDistance:r=0,placement:o="bottom-end",isFixedPosition:i=!1,width:a="340px",height:s="460px"}=this.options,l="selector"!==e.type||i?"fixed":"absolute";this.element=document.createElement("div"),this.element.classList.add(D,this.classNames.default,`Frill_Trigger--${e.type}`),this.element.style.width=a,this.element.style.height=s;const c=o.includes("top")||o.includes("bottom"),u="selector"===e.type||"null"===e.type,p=`calc(100% - 40px - ${"floating"===e.type?`${60+r}px`:0})`;this.element.style[c?"maxHeight":"maxWidth"]=p,this.element.style.position=l,this.element.appendChild(t),this.widget.container.appendChild(this.element);let d=e.element;d||(this.reference=document.createElement("div"),this.reference.style.position="fixed",this.reference.style.bottom="20px",this.reference.style.right="20px",this.widget.container.appendChild(this.reference),d=this.reference);const h=!(u&&i),f=this.widget.container!==document.body?this.widget.container:void 0;this.cleanupPopper=Cn(d,this.element,(()=>{var t;Tn(d,this.element,{placement:o,strategy:l,middleware:[Xe({mainAxis:r,crossAxis:n}),h&&Je({fallbackPlacements:In(o,this.widget)}),(t={padding:20,boundary:f},void 0===t&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:o}=e,{mainAxis:i=!0,crossAxis:a=!1,limiter:s={fn:t=>{let{x:e,y:n}=t;return{x:e,y:n}}},...l}=Ue(t,e),c={x:n,y:r},u=await Ye(e,l),p=$e(Le(o)),d=Be(p);let h=c[d],f=c[p];if(i){const t="y"===d?"bottom":"right";h=Ne(h+u["y"===d?"top":"left"],h,h-u[t])}if(a){const t="y"===p?"bottom":"right";f=Ne(f+u["y"===p?"top":"left"],f,f-u[t])}const y=s.fn({...e,[d]:h,[p]:f});return{...y,data:{x:y.x-n,y:y.y-r}}}})]}).then((({x:t,y:e})=>{Object.assign(this.element.style,{left:`${t}px`,top:`${e}px`})}))}))}destroy(){var t,e,n,r;null==(t=this.cleanupPopper)||t.call(this),null==(n=null==(e=this.element)?void 0:e.parentNode)||n.removeChild(this.element),this.widget.container.removeEventListener("click",this.onContainerClick),this.reference&&(null==(r=this.reference.parentNode)||r.removeChild(this.reference))}update(){if(!this.element)return;const{isOpen:t,isLoading:e,isMobile:n}=this.widget.ui;e?this.element.classList.add(this.classNames.loading):this.element.classList.remove(this.classNames.loading),n?this.element.classList.add(this.classNames.mobile):this.element.classList.remove(this.classNames.mobile);const r=this.element.classList.contains(this.classNames.open);t?r||(setTimeout((()=>this.widget.container.addEventListener("click",this.onContainerClick))),this.element.classList.add(this.classNames.open,this.classNames.enter),setTimeout((()=>{var t;null==(t=this.element)||t.classList.remove(this.classNames.enter)}),30)):(this.element.classList.remove(this.classNames.open),this.widget.container.removeEventListener("click",this.onContainerClick))}}class Mn{constructor(t,e){this.widget=t,this.options=e,this.type="modal",this.classNames={default:"Frill_View_Modal",loading:"Frill_View_Modal--loading",mobile:"Frill_View_Modal--mobile",open:"Frill_View_Modal--open",enter:"Frill_View_Modal--enter",content:"Frill_View_Modal__Content",shadow:"Frill_View_Modal__Shadow"},this.lock=xe(),this.onWidowClick=t=>{t.__frillHandled||this.element&&!this.content.contains(t.target)&&this.widget.close()}}get width(){var t;return this.widget.ui.isMobile?"100%":(null==(t=this.options.width)?void 0:t.replace("%","vw"))||"640px"}get height(){var t;return this.widget.ui.isMobile?"100%":(null==(t=this.options.height)?void 0:t.replace("%","vh"))||"500px"}setup(){const{frame:t}=this.widget;this.element=document.createElement("div"),this.element.setAttribute("role","dialog"),this.element.classList.add(D,this.classNames.default),this.content=document.createElement("div"),this.content.classList.add(this.classNames.content),this.content.style.width=this.width,this.content.style.height=this.height,this.content.appendChild(t),this.shadow=document.createElement("div"),this.shadow.classList.add(this.classNames.shadow),this.element.appendChild(this.content),this.element.appendChild(this.shadow),this.widget.container.appendChild(this.element)}destroy(){var t,e,n;this.lock.off(),null==(t=this.shadow)||t.removeEventListener("click",this.onWidowClick),null==(n=null==(e=this.element)?void 0:e.parentNode)||n.removeChild(this.element)}update(){if(!this.element)return;const{isOpen:t,isLoading:e,isMobile:n}=this.widget.ui;e?this.element.classList.add(this.classNames.loading):this.element.classList.remove(this.classNames.loading),n?this.element.classList.add(this.classNames.mobile):this.element.classList.remove(this.classNames.mobile),this.content.style.width=this.width,this.content.style.height=this.height;const r=this.element.classList.contains(this.classNames.open);t?r||(this.options.preventScroll&&this.lock.on(),this.shadow.addEventListener("click",this.onWidowClick),this.element.classList.add(this.classNames.open,this.classNames.enter),setTimeout((()=>{var t;null==(t=this.element)||t.classList.remove(this.classNames.enter)}),30)):(this.element.classList.remove(this.classNames.open),this.shadow.removeEventListener("click",this.onWidowClick),this.lock.off())}}class Fn{constructor(t,e){this.widget=t,this.options=e,this.type="sidebar",this.classNames={default:"Frill_View_Sidebar",loading:"Frill_View_Sidebar--loading",mobile:"Frill_View_Sidebar--mobile",open:"Frill_View_Sidebar--open",enter:"Frill_View_Sidebar--enter",content:"Frill_View_Sidebar__Content",shadow:"Frill_View_Sidebar__Shadow"},this.lock=xe(),this.onWidowClick=t=>{t.__frillHandled||this.element&&!this.content.contains(t.target)&&this.widget.close()}}get width(){return this.widget.ui.isMobile?"100%":this.options.width||"450px"}setup(){const{frame:t}=this.widget,{position:e="right"}=this.options;this.element=document.createElement("div"),this.element.setAttribute("role","dialog"),this.element.classList.add(D,this.classNames.default,`${this.classNames.default}--${e}`),this.content=document.createElement("div"),this.content.classList.add(this.classNames.content),this.content.style.width=this.width,this.content.appendChild(t),this.shadow=document.createElement("div"),this.shadow.classList.add(this.classNames.shadow),this.element.appendChild(this.content),this.element.appendChild(this.shadow),this.widget.container.appendChild(this.element)}destroy(){var t,e,n;this.lock.off(),null==(t=this.shadow)||t.removeEventListener("click",this.onWidowClick),null==(n=null==(e=this.element)?void 0:e.parentNode)||n.removeChild(this.element)}update(){if(!this.element)return;const{isOpen:t,isLoading:e,isMobile:n}=this.widget.ui;e?this.element.classList.add(this.classNames.loading):this.element.classList.remove(this.classNames.loading),n?this.element.classList.add(this.classNames.mobile):this.element.classList.remove(this.classNames.mobile),this.content.style.width=this.width;const r=this.element.classList.contains(this.classNames.open);t?r||(this.options.preventScroll&&this.lock.on(),this.shadow.addEventListener("click",this.onWidowClick),this.element.classList.add(this.classNames.open,this.classNames.enter),setTimeout((()=>{var t;null==(t=this.element)||t.classList.remove(this.classNames.enter)}),30)):(this.element.classList.remove(this.classNames.open),this.shadow.removeEventListener("click",this.onWidowClick),this.lock.off())}}class Rn{constructor(t,e){this.widget=t,this.options=e,this.type="embed"}setup(){const{container:t,frame:e}=this.widget;t.appendChild(e)}destroy(){const{container:t,frame:e}=this.widget;t.removeChild(e),t.removeAttribute(F)}update(){}}function jn(t,e){try{const n=window.matchMedia(t),r=()=>{const t=!n.matches;e(t)};return r(),"function"==typeof n.addEventListener?n.addEventListener("change",r):n.addListener(r),()=>{"function"==typeof n.removeEventListener?n.removeEventListener("change",r):n.removeListener(r)}}catch(t){console.error(t)}}var Nn=n(714),Un=n.n(Nn);n(598);function Ln(t){if(Array.isArray(t))return t.map(Ln);if(t&&"object"==typeof t){const e={};for(const[n,r]of Object.entries(t))e[n]=r&&"object"==typeof r?Ln(r):r;return e}return t}var Dn=Object.defineProperty,Bn=(Object.defineProperties,Object.getOwnPropertyDescriptors,Object.getOwnPropertySymbols),Wn=Object.prototype.hasOwnProperty,$n=Object.prototype.propertyIsEnumerable,Gn=(t,e,n)=>e in t?Dn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qn=(t,e)=>{for(var n in e||(e={}))Wn.call(e,n)&&Gn(t,n,e[n]);if(Bn)for(var n of Bn(e))$n.call(e,n)&&Gn(t,n,e[n]);return t};const Vn={popover:{type:"popover",offsetSkidding:0,offsetDistance:20,isFixedPosition:!0,placement:"top-end",width:"410px",height:"600px"},modal:{type:"modal",width:"640px",height:"500px"},sidebar:{type:"sidebar",position:"right",width:"450px"},embed:{type:"embed"}},Hn={floating:{type:"floating",color:"light",backgroundColor:u,position:"bottom-right",icon:"bolt"},tab:{type:"tab",color:"light",backgroundColor:u,position:"center-right",text:"What's new"},selector:{type:"selector",selector:""},null:{type:"null"}};function zn(){return{sections:{order:["ideas","roadmap","announcements"],announcements:{active:!0,display:"embed",title:"Announcements",reactions:"inherit",disableAnnouncementLinks:!1,layout:"full",ideas:{open:"embed"}},ideas:{active:!0,display:"embed",title:"Ideas",sort:"trending",ideas:{open:"embed"},create:{label:"Add an Idea",hideSuggestions:!0}},roadmap:{active:!0,display:"embed",title:"Roadmap",ideas:{open:"embed"}}},launcher:qn({},Ln(Hn.tab)),view:qn({},Ln(Vn.sidebar)),badge:{type:"count"},advanced:{openLinksInNewWindow:!0,hidePoweredByFrill:!1},appearance:{responsiveMediaQuery:"(min-width: 481px)",showLogo:!0,theme:{idx:""},headerBackgroundColor:"#f9fafb",headerTextColor:"dark",title:"",description:"Suggest a feature, read through our Roadmap and check out our latest feature releases."},navigation:{reopenOnStartPage:!1}}}const Yn={arrayMerge:(t,e)=>Array.from(new Set([...e,...t]))};function Jn(t,e,n=Yn){const{advanced:r={},appearance:o={},badge:i={},launcher:a={},navigation:s={},sections:l={},view:c={}}=e,u=t||zn(),p=(null==a?void 0:a.type)||u.launcher.type,d=(null==c?void 0:c.type)||u.view.type,h=Un()(Hn[p],u.launcher),f=Un()(Vn[d],u.view);return{advanced:Un()(u.advanced,r,n),appearance:Un()(u.appearance,o,n),badge:Un()(u.badge,i,n),launcher:Un()(h,a,n),navigation:Un()(u.navigation,Object.assign({},s),n),sections:Un()(u.sections,l,n),view:Un()(f,c,n)}}function Xn(t){const e=zn();return e.sections=Un()(e.sections,{announcements:{reactions:"inherit",ideas:{open:"link"}}}),e.appearance.description="",e.appearance.showLogo=!1,Jn(e,t)}var Qn=n(485),Kn=n.n(Qn),Zn=n(649),tr=n.n(Zn);function er(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}var nr=function t(e,n){function r(t,r,o){if("undefined"!=typeof document){"number"==typeof(o=er({},n,o)).expires&&(o.expires=new Date(Date.now()+864e5*o.expires)),o.expires&&(o.expires=o.expires.toUTCString()),t=encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var i="";for(var a in o)o[a]&&(i+="; "+a,!0!==o[a]&&(i+="="+o[a].split(";")[0]));return document.cookie=t+"="+e.write(r,t)+i}}return Object.create({set:r,get:function(t){if("undefined"!=typeof document&&(!arguments.length||t)){for(var n=document.cookie?document.cookie.split("; "):[],r={},o=0;o<n.length;o++){var i=n[o].split("="),a=i.slice(1).join("=");try{var s=decodeURIComponent(i[0]);if(r[s]=e.read(a,s),t===s)break}catch(t){}}return t?r[t]:r}},remove:function(t,e){r(t,"",er({},e,{expires:-1}))},withAttributes:function(e){return t(this.converter,er({},this.attributes,e))},withConverter:function(e){return t(er({},this.converter,e),this.attributes)}},{attributes:{value:Object.freeze(n)},converter:{value:Object.freeze(e)}})}({read:function(t){return'"'===t[0]&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}},{path:"/"});class rr{getItem(t){return nr.get(t)}setItem(t,e){return nr.set(t,e,{domain:window.location.hostname,expires:60})}}const or=c?class{getItem(t){}setItem(t,e){}}:class{getItem(t){const e=window.localStorage.getItem(t);return null===e?void 0:e}setItem(t,e){return window.localStorage.setItem(t,e)}};class ir{constructor(t="_storage_",e=new or){this._key=t,this.provider=e,this.data={},this.logger=ne("storage"),this.write=()=>{try{this.provider.setItem(this._key,JSON.stringify(this.data)),this.logger.log("writing",this.data)}catch(t){this.logger.warn("Storage error",t)}this.queue=void 0},this.remove=t=>{this.logger.log("remove",{path:t}),this.set(t,void 0)},this.clear=()=>{try{this.provider.setItem(this._key,"")}catch(t){this.logger.warn("Storage error",t)}},this.init()}set key(t){this._key=t,this.init()}init(){try{let t=this.provider.getItem(this._key);t=t?JSON.parse(t):this.data,t&&(this.data=t)}catch(t){this.logger.warn("Storage error",t),this.clear()}this.data||(this.data={})}all(){return this.data}get(t,e=void 0){return this.logger.log("get",{path:t,defaultValue:e}),Kn()(this.data,t,e)}set(t,e,n=!1){this.logger.log("set",{path:t,value:e}),tr()(this.data,t,e,Object),n?this.write():this.queue||(this.queue=setTimeout((()=>{this.write()}),300))}}class ar{constructor(t){if(this.ui={isMobile:!1,isOpen:!1,isLoading:!0,unreadCount:0},this.version=`${S}.fa9f47b72781cb0a4a900609ca8c6ae1ed07099f`,this.destroyed=!1,this.toggle=t=>{t&&(t.__frillHandled=!0),this.ui.isOpen?this.close():this.open()},this.open=()=>{this.ui.isOpen||(this.ipc.send({type:"interaction",payload:{event:"open"}}),this.ui.isOpen=!0,this.update(),this.frame.focus(),this.call("onOpen"))},this.close=()=>{this.ui.isOpen&&(this.ipc.send({type:"interaction",payload:{event:"close"}}),this.ui.isOpen=!1,this.update(),this.ui.unreadCount&&this.setBadgeCount(0),document.activeElement===this.frame&&this.frame.blur(),this.call("onClose"))},this.destroy=()=>{var t,e,n,r,o,i,a;this.destroyed=!0,null==(t=this.ipc)||t.destroy(),null==(n=null==(e=this.style)?void 0:e.parentNode)||n.removeChild(this.style),null==(r=this.notification)||r.destroy(),null==(o=this.launcher)||o.destroy(),null==(i=this.view)||i.destroy(),null==(a=this.mediaQuery)||a.call(this),this.frame=void 0,this.launcher=void 0,this.view=void 0,this.style=void 0},this.update=()=>{var t,e;const{unreadCount:n}=this.ui;if(null==(t=this.launcher)||t.update(),null==(e=this.view)||e.update(),this.badge){const{badge:t}=this.settings,e=n>0;this.badge.style.display=e?"":"none","count"===t.type&&(this.badge.innerText=`${Math.min(n,99)}`)}},this.call=(t,...e)=>{var n;const r=null==(n=this.config.callbacks)?void 0:n[t];r&&r(...e)},this.updateSettings=(t,e=!1)=>{var n;if(!this.settings)return;this.settings=e?Xn(t):Jn(this.settings,t),this.ipc.send({type:"settings-update",payload:{settings:this.settings}}),null==(n=this.mediaQuery)||n.call(this);const{responsiveMediaQuery:r}=this.settings.appearance;r&&(this.mediaQuery=jn(r,this.onResponsiveChange))},this.setBadgeCount=t=>{this.ui.unreadCount=t,this.update(),this.call("onBadgeCount",{announcements:[],count:t})},this.onConfigRequest=t=>{const e={type:"settings-response",payload:{href:window.location.href,board:this.board,company:this.company,isMobile:this.ui.isMobile,settings:this.settings,storage:this.store.all(),widget:this.widget},requestId:t.id};this.ipc.send(e)},this.onOpenRequest=()=>{this.open()},this.onCloseRequest=()=>{this.close()},this.onResponsiveChange=t=>{this.ui.isMobile=t,this.ipc.send({type:"responsive",payload:{isMobile:t}}),this.update()},this.onIPCReady=t=>{this.ipc.ready()},this.onAppReady=t=>{this.ui.isLoading=!1,this.update(),this.ipc.flush()},this.onNewAnnouncements=t=>{var e,n;const{announcements:r=[]}=null!=(n=null==(e=t.message)?void 0:e.payload)?n:{},o=r.length;this.ui.unreadCount=o,this.update(),this.call("onBadgeCount",{announcements:r,count:o})},this.onNotification=t=>{var e,n;if(this.notification)return;const{options:r}=null!=(n=null==(e=t.message)?void 0:e.payload)?n:{};this.notification=function(t,e){switch(e.type){case"snippet":return new Ce(t,e);case"banner":return new _e(t,e);case"modal":return new Oe(t,e);default:throw new ae("Invalid launcher option. Available options: `floating`, `selector` and `tray`")}}(this,r),this.notification.setup(),this.call("onNotificationOpen")},this.onStorage=t=>{var e,n;const{key:r,value:o}=null!=(n=null==(e=t.message)?void 0:e.payload)?n:{};this.store.set(r,o)},this.onMouseEnter=()=>{this.ipc.send({type:"interaction",payload:{event:"hover"}})},!function(t){return Boolean(t.key)}(t))return;const{config:e}=ce(t);var n;this.config=e,this.container=this.config.container||document.body,this.api=new le(this.config.key),this.ipc=new oe(this.config.key),this.store=new ir((n=this.config.key,`frill-widget:${l}:${n}`),new rr),this.create().catch((t=>{var e,n;ie("Your Frill Widget has failed to load. Please check your code snippet is correct.",`Reason: ${n=t,(null==n?void 0:n.message)&&(null==n?void 0:n.isKnown)?t.message:"Unexpected error"}\nWidget key: ${(null==(e=this.config)?void 0:e.key)||"Missing key!"}`)}));const r=this.ipc.listen("app-ready",(()=>{r(),this.call("onReady",this)}))}create(){return t=this,e=null,n=function*(){if(this.settings)return;const{key:t,frillToken:e,ssoToken:n,settings:r,__widget:o}=this.config,{board:i,company:a,widget:s}=o||(yield this.api.widget());if(this.destroyed)return;if(!s)throw new ae("Widget not found");this.board=i,this.company=a,this.widget={idx:s.idx,source:s.source},this.settings=Xn(s.settings),r&&(this.settings=Jn(this.settings,r));const{badge:l}=this.settings;this.style=document.createElement("link"),this.style.id=`Frill_Styles_${t}`,this.style.rel="stylesheet",this.style.href=C,this.container.prepend(this.style),this.launcher=function(t){const e=t.settings.launcher;if("embed"===t.settings.view.type)return new ve;switch(e.type){case"floating":return new ge(t,e);case"selector":return new we(t,e);case"tab":return new be(t,e);case"null":return new ve;default:throw new ae("Invalid launcher option. Available options: `floating`, `selector` and `tray`")}}(this),this.view=function(t){const e=t.settings.view;switch(e.type){case"popover":return new kn(t,e);case"modal":return new Mn(t,e);case"sidebar":return new Fn(t,e);case"embed":return new Rn(t,e);default:throw new ae("Invalid view option. Available options: `popover`, `modal`, `sidebar` and `embed`")}}(this);const c=document.createElement("link");c.href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap",c.rel="stylesheet",this.container.prepend(c);const u={key:t,route:fe(this.settings)};e&&(u.frillToken=e),n&&(u.ssoToken=n),this.config.disableAnalytics&&(u.analytics="0"),this.frame=ue({id:`${R}_${t}`,className:"Frill_Frame",src:`${O}/?${Q(u)}`});const{responsiveMediaQuery:p}=s.settings.appearance;p&&(this.mediaQuery=jn(p,this.onResponsiveChange)),this.launcher.setup(),this.view.setup(),"none"!==l.type&&(this.badge=document.createElement("div"),this.badge.id=`Frill_Badge_${t}`,this.badge.classList.add(j),this.badge.classList.add(`${j}--${l.type}`),this.badge.style.display="none",this.launcher.addBadge(this.badge)),this.ipc.frame=this.frame,this.ipc.listen("open-request",this.onOpenRequest),this.ipc.listen("close-request",this.onCloseRequest),this.ipc.listen("settings-request",this.onConfigRequest),this.ipc.listen("app-ready",this.onAppReady),this.ipc.listen("new-announcements",this.onNewAnnouncements),this.ipc.listen("notification",this.onNotification),this.ipc.listen("ipc-ready",this.onIPCReady),this.ipc.listen("storage",this.onStorage)},new Promise(((r,o)=>{var i=t=>{try{s(n.next(t))}catch(t){o(t)}},a=t=>{try{s(n.throw(t))}catch(t){o(t)}},s=t=>t.done?r(t.value):Promise.resolve(t.value).then(i,a);s((n=n.apply(t,e)).next())}));var t,e,n}createIdea(t){this.ipc.send({type:"create-idea",payload:{defaultValues:t}})}viewIdea(t,e){this.ipc.send({type:"view-idea",payload:{ideaSlug:t,section:e}})}viewAnnouncement(t){this.ipc.send({type:"view-announcement",payload:{announcementSlug:t}})}viewSection(t){this.ipc.send({type:"view-section",payload:{section:t}})}identify(t){this.ipc.send({type:"identify",payload:{user:t}})}unidentify(){this.ipc.send({type:"unidentify"})}markAsRead(){this.ipc.send({type:"mark-as-read",payload:{}}),this.setBadgeCount(0)}}function sr(t){if(!t.__loaded)return t.__loaded=!0,new ar(t)}!function t(){if(window.Frill)return function(){const t=window[I];if(null==t?void 0:t.length)for(const e of t)e();if(T in window){const t=window[T],e=Array.isArray(t)?t:[t];for(const t of e)sr(t)}const e=Array.from(document.querySelectorAll(`[${k}]`));for(const t of e){const e=t.getAttribute(k),n=t.getAttribute(F);if(!e||n||!(t instanceof HTMLElement))return;t.setAttribute(F,"true");const r=t.getAttribute(M);sr({key:e,container:t,ssoToken:r})}}();setTimeout(t,10)}()})(),window.Frill=r})();
//# sourceMappingURL=widget.js.map